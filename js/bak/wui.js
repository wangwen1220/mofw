!function(){var t=!1,e=function(){};e.extend=function(e){function i(){!t&&this.initialize&&this.initialize.apply(this,arguments)}var n=this.prototype;t=!0;var s=new this;t=!1;for(var r in e)s[r]=e[r];return i.superclass=n,i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i},this.Class=e}(),function(){function t(t){var i={};return $.each(t,function(t,n){$.isPlainObject(n)&&e(n,a.SPECIAL_KEYS)||(n={value:n}),i[t]=n}),i}function e(t,e){var i=!1;return $.each(e,function(e,n){t.hasOwnProperty(n)&&(i=!0)}),i}function i(t,e){for(var i=e?e.split("."):[],n=t,s=0,r=i.length;r>s;s++){if(void 0==n)return;n=n[i[s]]}return n}function n(t,e,i,n){for(var a,o,l=e.split(r);(a=l.shift())&&(o=this[a],o&&$.isFunction(o));)o._isAspected||s.call(this,a),this.on(t+":"+a,i,n)}function s(t){var e,i,n=this[t];this[t]=function(){return i=this.trigger("before:"+t,Array.prototype.slice.call(arguments)),i!==!1?(e=n.apply(this,arguments),this.trigger("after:"+t,Array.prototype.slice.call(arguments)),e):void 0},this[t]._isAspected=!0}var r=/\s+/,a=this.ATTRIBUTE={};a.INVALID_VALUE={},a.SPECIAL_KEYS=["value","getter","setter","mergeOnInit"];var o=Class.extend({initialize:function(t,e,i){$.extend(this,{target:t,type:e,timeStamp:new Date-0},i)},_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0}}),l=Class.extend({initialize:function(t){t=t||{},this._initAttrs(t)},destroy:function(){this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}},on:function(t,e,i){var n,s;if(!e)return this;for(n=this.__events=this.__events||{},t=t.split(r);s=t.shift();)n[s]=n[s]||[],n[s].push(e,i);return this},off:function(t,e){var i,n=this.__events;if(!t&&!e)return delete this.__events,this;for(t=t.split(r);i=t.shift();){var s=n[i];if(e){if(s)for(var a=0,o=s.length;o-1>a;a+=2)s[a]==e&&s.splice(a,2)}else delete n[i]}return this},trigger:function(t){var e,i=this.__events,n=this,s=!0;if(!i)return n;for(t=t.split(r);e=t.shift();){var a=i[e],l=new o(n,e);if(a)for(var h=0,c=a.length;c>h;h+=2){var u=a[h+1]||n,d=arguments[1]?arguments[1].slice():[];d.unshift(l);var f=a[h].apply(u,d);if(f===!1&&l.preventDefault(),l._defaultPrevented){s=!1;break}}}return s},before:function(t,e,i){return n.call(this,"before",t,e,i),this},after:function(t,e,i){return n.call(this,"after",t,e,i),this},set:function(t,e,n){var s=this,r={},o=this.attrs,l=!0;return"string"==typeof t?r[t]=e:(r=t,n=e),n=n||{},$.each(r,function(t,e){var r=t.split("."),h=r[0],c=r.length>1,u=o[h];if(!u)return void(l=!1);if(c){var d=i(u.value,r.slice(1,-1).join("."));if(void 0==d||!$.isPlainObject(d))return void(l=!1);var f=$.extend({},u.value);d=i(f,r.slice(1,-1).join(".")),d[r[r.length-1]]=e,e=f}return u.setter&&(e=u.setter.call(s,e,t,n.data),e==a.INVALID_VALUE)?void(l=!1):(n.merge&&(e=$.extend(!0,{},u,{value:e}).value),u=u.value,o[h].value=e,void(n.silent||(s.trigger("change:"+h,[s.get(h),u,t,n.data]),s.trigger("change:*",[s.get(h),u,t,n.data]))))}),l},get:function(t){var e=this;if(t){var n=t.split(".");if(!e.attrs.hasOwnProperty(n[0]))return;var s=e.attrs[n[0]],r=s.value;return s.getter&&(r=s.getter.call(e,r,t)),r=i(r,n.slice(1).join(".")),r==a.INVALID_VALUE?void 0:r}var o={};return $.each(e.attrs,function(t){o[t]=e.get(t)}),o},_initAttrs:function(e){for(var i,n=this,s={},r=[],a=n.constructor.prototype;a&&!$.isEmptyObject(a);)r.push(a),a=a.constructor.superclass;for(;a=r.pop();)i=t(a.attrs||{}),$.each(i,function(t,e){s[t]=e.mergeOnInit?$.extend(!0,{},s[t],e):e});e=e||{},s=$.extend(!0,{},s,t(e)),n.attrs=s,$.each(e,function(t,e){s[t].setter&&n.set(t,e,{silent:!0})})}});this.Base=l}(),function(){function t(){return g++}function e(t,e){return t.contains?t!=e&&t.contains(e):!!(16&t.compareDocumentPosition(e))}function i(t){return t.charAt(0).toLowerCase()+t.substring(1)}function n(t){return void 0==t||null==t}function s(t,e){var i={},n=e.match(/^(\S+)\s*(.*)$/);return i.type=n[1]+u+t.wid,i.selector=n[2].replace(d,function(){return t.get(arguments[1])}),i}function r(t){var e={},t=$(t);if(t[0]&&"on"==t.data("api")){var i=t[0].dataset||t.data();for(var n in i){var s=t.data(n);n=a(n),e[n]=o(s)}return e}}function a(t){var e=v;return t=t.replace(e,function(){return arguments[1].toUpperCase()})}function o(t){return m.test(t)&&(t=t.replace(/'/g,'"'),t=JSON.parse(t)),t}var l={},h="data-widget-id",c=/^_onRender([A-Z](.)*)/,u=".widget-",d=/{\$(.*)}/,f=Base.extend({element:null,$element:null,attrs:{id:null,className:null,style:null,template:"<div></div>",parentNode:"body"},events:null,initialize:function(t){t=this._parseConfig(t),f.superclass.initialize.call(this,t),this._parseElement(),this._stamp(),this.delegateEvents(),this.setup()},_parseConfig:function(t){t=t||{},this.element=t.element,delete t.element,this.events=$.extend(this.events||{},t.events),delete t.events;var e=r(this.element);return t=$.extend({},e,t)},_parseElement:function(){this.element||(this._isTemplate=!0),this.$element=$(this.element?this.element:this.get("template")),this.element=this.$element[0]},_stamp:function(){var e=this.wid=t();l[e]=this,this.$element.attr(h,e)},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var t=this.get("parentNode");return t&&!e(document.documentElement,this.element)&&this.$element.appendTo(t),this},destroy:function(){this.undelegateEvents(),delete l[this.cid],this.$element&&this._isTemplate&&(this.$element.off(),this.$element.remove()),this.element=null,f.superclass.destroy.call(this)},_renderAndBindAttrs:function(){var t=this;$.each(t,function(e,s){var r=e.match(c);if(r){var a=i(r[1]);t.on("change:"+a,s);var o=t.get(a);n(o)||t.trigger("change:"+a,[o,void 0,a])}})},_onRenderId:function(t,e){this.$element.attr("id",e)},_onRenderClassName:function(t,e,i){i&&this.$element.removeClass(i),this.$element.addClass(e)},_onRenderStyle:function(t,e){this.$element.css(e)},delegateEvents:function(t,e,i){var n=this;if(0==arguments.length)e=n.events,t=n.element;else if(1==arguments.length)e=t,t=n.element;else if(2==arguments.length){if(!$.isPlainObject(e)){var r={};r[t]=e,e=r,t=n.element}}else if(3==arguments.length){var r={};r[e]=i,e=r}return t!=this.element&&(this.delegateElements||(this.delegateElements=[]),this.delegateElements.push($(t))),t=$(t),e&&$.each(e,function(e,i){var r,a=s(n,e);"string"==$.type(i)?r=function(t){n[i](t)}:"function"==$.type(i)&&(r=function(t){i.call(n,t)}),t.on(a.type,a.selector,r)}),this},undelegateEvents:function(t,i){if(0==arguments.length){var n=this.wid;this.$element.off(u+n),this.delegateElements&&$.each(this.delegateElements,function(t,e){e.off(u+n)})}else{1==arguments.length&&(e(document.documentElement,$(t)[0])||(i=t,t=this.element)),t=$(t);var r=i&&s(this,i);r?t.off(r.type,r.selector):t.off(u+this.wid)}return this}});f.query=function(t){var e=parseInt($(t).attr(h));return l[e]};var g=0,v=/-([a-z])/g,m=/^\s*[\[{].*[\]}]\s*$/;this.Widget=f}(),function(){var t=Widget.extend({attrs:{index:-1,count:0,recursive:!1},setup:function(){},next:function(){var t=(this.get("index"),this.getNextIndex());return-1!=t?(this.switch(t),!0):!1},prev:function(){var t=(this.get("index"),this.getPrevIndex());return-1!=t?(this.switch(t),!0):!1},getNextIndex:function(){var t=this.get("index"),e=-1,i=this.get("count");return this.get("recursive")?e=(t+1)%i:i>t+1&&(e=t+1),e},getPrevIndex:function(){var t=this.get("index"),e=-1,i=this.get("count");return this.get("recursive")?e=(t+i-1)%i:t-1>=0&&(e=t-1),e},"switch":function(t){var e=this.get("index");return e!=t?(this.set("index",t),!0):!1}});this.Switchable=t}(),function(){var t=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],i="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];return{dom:i,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}(),e=25,i=200,n=t.css+"transform",s=Switchable.extend({attrs:{index:0,recursive:!0,duration_ms:200,autoplay:!1,autoplay_interval_ms:1e4,swipable:!0,selectors:{content:".carousel-cont",contItem:".cont-item",control:".carousel-control",controlItem:".control-item",active:".active"},eles:{left:null,middle:null,right:null,control:null}},setup:function(){s.superclass.setup&&s.superclass.setup.apply(this,arguments);var t=this,e=t.get("selectors");t.contItems=t.$element.find(e.content).find(e.contItem),t.controlItems=t.$element.find(e.control).find(e.controlItem),t.width=t.contItems.width(),t.on("change:index",t._onChangeIndex),t.on("change:eles",t._onChangeEles),t.before("prev",t._beforePrev),t.before("next",t._beforeNext),t.delegateEvents(t.controlItems,"tap",t._controlTapHandler),t.set("count",t.contItems.length),t.get("count")<=2&&t.set("recursive",!1),t.get("count")<=1&&t.set("swipable",!1),this.set("index",this.get("index")),this.get("swipable")&&this._initSwipe(t.contItems.parent()),this._bindResizeHandler(),this.render()},refresh:function(){this.width=this.contItems.parent().width(),this._placeTo(this.get("eles.left"),-this.width),this._placeTo(this.get("eles.right"),this.width)},_initSwipe:function(t){function n(t){var e=t.touches[0];l=e.pageX-a,h=e.pageY-o,void 0==c&&(c=Math.abs(h)>Math.abs(l)?1:-1),1!=c&&(t.preventDefault(),d.trigger("swipemove",[l]))}function s(){1!=c&&(d.trigger("swipeend",[l]),f.off("touchmove",n),f.off("touchend",s))}var r,a,o,l,h,c,u,d=this,f=$(document.body);t.on("touchstart",function(t){r=t.touches[0],a=r.pageX,o=r.pageY,l=0,h=0,c=void 0,f.on("touchmove",n),f.on("touchend",s),d.trigger("swipestart")}),this.on("swipestart",function(){u=this.get("autoplay"),this.set("autoplay",!1)}),this.on("swipemove",function(t,e){if(!this.sliding){var i=this.get(e>0?"eles.right":"eles.left"),n=this.get(e>0?"eles.left":"eles.right"),s=e>0?this.width:-this.width,r=e>0?-this.width:this.width;n[0]||0==e||(e/=3),n.css(this._getOffsetXCss(e+r)),i.css(this._getOffsetXCss(s)),this.get("eles.middle").css(this._getOffsetXCss(e))}}),this.on("swipeend",function(t,n){if(!this.sliding){var s=!1;if(s=Math.abs(n)>e?!(n>0?this.prev():this.next()):!0){var r=this.get(n>0?"eles.left":"eles.right"),a=n>0?-this.width:this.width;d.get("eles.middle").animate(d._getOffsetXCss(0),i,"ease"),r.animate(d._getOffsetXCss(a),i,"ease")}this.set("autoplay",u)}})},_bindResizeHandler:function(){this.delegateEvents(window,"resize",function(){this.refresh()})},_controlTapHandler:function(t){if(!this.sliding){var e=this.get("index"),i=this.controlItems.index(t.currentTarget);i!=e&&(this.dir=i>e?1:-1);var n=this.get("autoplay");this.set("autoplay",!1),this.switch(i),this.set("autoplay",n)}},_beforePrev:function(){this.dir=-1},_beforeNext:function(){this.dir=1},_onChangeIndex:function(t,e,i){this.trigger("beforeSwitch",[e,i]);var n=this.getPrevIndex(),s=this.getNextIndex();this.set("eles",{left:-1!=n?this.contItems.eq(n):$(),middle:this.contItems.eq(e),right:-1!=s?this.contItems.eq(s):$(),control:this.controlItems.eq(e)}),this.trigger("afterSwitch",[e,i])},_onChangeEles:function(e,i,n){function s(){$.each(n,function(t,e){e&&e.removeClass(o)}),$.each(i,function(e,i){i&&i.addClass(o).css(t.css+"transition-duration","0")}),l._getElesPosReady(i),l.sliding=!1}var r=this.width,a=this.get("duration_ms"),o=this.get("selectors.active").slice(1),l=this,h=1==this.dir?n.right:n.left;h&&h[0]!=i.middle[0]&&this._placeTo(i.middle,this.dir*r),this.sliding=!0,n.middle&&n.middle.size()&&n.middle[0].clientLeft,i.middle&&i.middle.size()&&i.middle[0].clientLeft,this._slideTo(n.middle,-this.dir*r,a),this._slideTo(i.middle,0,a,s)},_onRenderAutoplay:function(t,e,i){if(e!=i){var n=this;e?this.autoplayTimer=setInterval(function(){n.sliding||n.next()},this.get("autoplay_interval_ms")):(clearInterval(this.autoplayTimer),this.autoplayTimer=void 0)}},_getElesPosReady:function(t){this._placeTo(t.middle,0),this._placeTo(t.left,-this.width),this._placeTo(t.right,this.width)},_placeTo:function(t,e){if(t){var i=this._getOffsetXCss(e);t.css(i)}},_slideTo:function(e,i,n,s){if(e&&e[0]){var r=e[0].style,a=t.css;r&&(r.cssText+=a+"transition:"+n+"ms ease;"+a+"transform: translate3d("+i+"px, 0, 0);",setTimeout(function(){s&&s()},n))}},_getOffsetXCss:function(t){var e={};return e[n]="translate3d("+t+"px, 0, 0)",e}});this.Carousel=s}();