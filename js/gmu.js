var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:function(t){var e=t.fn,n=[].slice,i=t();return i.length=1,function(t,o){return i[0]=t,e[o].apply(i,n.call(arguments,2))}}(Zepto)};!function(t,e){function n(t,e,n){(t||"").split(l).forEach(function(t){n(t,e)})}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function s(t,e,n,s){var r,a;return a=o(e),a.ns&&(r=i(a.ns)),t.filter(function(t){return!(!t||a.e&&t.e!==a.e||a.ns&&!r.test(t.ns)||n&&t.cb!==n&&t.cb._cb!==n||s&&t.ctx!==s)})}function r(t,n){return this instanceof r?(n&&e.extend(this,n),this.type=t,this):new r(t,n)}var a=[].slice,l=/\s+/,c=function(){return!1},u=function(){return!0};r.prototype={isDefaultPrevented:c,isPropagationStopped:c,preventDefault:function(){this.isDefaultPrevented=u},stopPropagation:function(){this.isPropagationStopped=u}},t.event={on:function(t,e,i){var s,r=this;return e?(s=this._events||(this._events=[]),n(t,e,function(t,e){var n=o(t);n.cb=e,n.ctx=i,n.ctx2=i||r,n.id=s.length,s.push(n)}),this):this},one:function(t,e,i){var o=this;return e?(n(t,e,function(t,e){var n=function(){return o.off(t,n),e.apply(i||o,arguments)};n._cb=e,o.on(t,n,i)}),this):this},off:function(t,e,i){var o=this._events;return o?t||e||i?(n(t,e,function(t,e){s(o,t,e,i).forEach(function(t){delete o[t.id]})}),this):(this._events=[],this):this},trigger:function(t){var e,n,i,o,l,c=-1;if(!this._events||!t)return this;if("string"==typeof t&&(t=new r(t)),e=a.call(arguments,1),t.args=e,e.unshift(t),n=s(this._events,t.type))for(o=n.length;++c<o;)if((i=t.isPropagationStopped())||!1===(l=n[c]).cb.apply(l.ctx2,e)){i||(t.stopPropagation(),t.preventDefault());break}return this}},t.Event=r}(gmu,gmu.$),function(t){t.parseTpl=function(t,e){var n="var __p=[];with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',i=new Function("obj",n);return e?i(e):i}}(Zepto),function(t,e,n){function i(t){return"[object Object]"===f.call(t)}function o(t,e){t&&Object.keys(t).forEach(function(n){e(n,t[n])})}function s(t){try{t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(t)?JSON.parse(t):t}catch(e){t=n}return t}function r(t){for(var e,i,o={},r=t&&t.attributes,a=r&&r.length;a--;)i=r[a],e=i.name,"data-"===e.substring(0,5)&&(e=e.substring(5),i=s(i.value),i===n||(o[e]=i));return o}function a(o){var s=o.substring(0,1).toLowerCase()+o.substring(1),r=e.fn[s];e.fn[s]=function(s){var r,a,l=d.call(arguments,1),c="string"==typeof s&&s;return e.each(this,function(u,h){if(a=v(h,o)||new t[o](h,i(s)?s:n),"this"===c)return r=a,!1;if(c){if(!e.isFunction(a[c]))throw new Error("组件没有此方法："+c);if(r=a[c].apply(a,l),r!==n&&r!==a)return!1;r=n}}),r!==n?r:this},e.fn[s].noConflict=function(){return e.fn[s]=r,this}}function l(t,n){var i=this;t.superClass&&l.call(i,t.superClass,n),o(v(t,"options"),function(t,o){o.forEach(function(o){var s=o[0],r=o[1];("*"===s||e.isFunction(s)&&s.call(i,n[t])||s===n[t])&&r.call(i)})})}function c(t,i){var s=this;t.superClass&&c.call(s,t.superClass,i),o(v(t,"plugins"),function(t,r){i[t]!==!1&&(o(r,function(t,i){var o;s[t]=e.isFunction(i)&&(o=s[t])?function(){var t,e=s.origin;return s.origin=o,t=i.apply(s,arguments),e===n?delete s.origin:s.origin=e,t}:i}),r._init.call(s))})}function u(){for(var t,n=d.call(arguments),o=n.length;o--;)t=t||n[o],i(n[o])||n.splice(o,1);return n.length?e.extend.apply(null,[!0,{}].concat(n)):t}function h(t,o,s,a,h){var p,d=this;return i(a)&&(h=a,a=n),h&&h.el&&(a=e(h.el)),a&&(d.$el=e(a),a=d.$el[0]),p=d._options=u(o.options,r(a),h),d.template=u(o.template,p.template),d.tpl2html=u(o.tpl2html,p.tpl2html),d.widgetName=t.toLowerCase(),d.eventNs="."+d.widgetName+s,d._init(p),d._options.setup=d.$el&&d.$el.parent()[0]?!0:!1,l.call(d,o,p),c.call(d,o,p),d._create(),d.trigger("ready"),a&&v(a,t,d)&&d.on("destroy",function(){v(a,t,null)}),d}function p(i,s,r){function a(t,e){if("Base"===i)throw new Error("Base类不能直接实例化");return this instanceof a?h.call(this,i,a,l++,t,e):new a(t,e)}"function"!=typeof r&&(r=t.Base);var l=1,c=1;return e.extend(a,{register:function(t,e){var n=v(a,"plugins")||v(a,"plugins",{});return e._init=e._init||g,n[t]=e,a},option:function(t,e,n){var i=v(a,"options")||v(a,"options",{});return i[t]||(i[t]=[]),i[t].push([e,n]),a},inherits:function(t){return p(i+"Sub"+c++,t,a)},extend:function(t){var e=a.prototype,i=r.prototype;m.forEach(function(e){t[e]=u(r[e],t[e]),t[e]&&(a[e]=t[e]),delete t[e]}),o(t,function(t,o){e[t]="function"==typeof o&&i[t]?function(){var e,s=this.$super;return this.$super=function(){var e=d.call(arguments,1);return i[t].apply(this,e)},e=o.apply(this,arguments),s===n?delete this.$super:this.$super=s,e}:o})}}),a.superClass=r,a.prototype=Object.create(r.prototype),a.extend(s),a}var d=[].slice,f=Object.prototype.toString,g=function(){},m=["options","template","tpl2html"],v=function(){var t={},e=0,i="_gid";return function(o,s,r){var a=o[i]||(o[i]=++e),l=t[a]||(t[a]={});return r!==n&&(l[s]=r),null===r&&delete l[s],l[s]}}(),_=t.event;t.define=function(e,n,i){t[e]=p(e,n,i),a(e)},t.isWidget=function(e,n){return n="string"==typeof n?t[n]||g:n,n=n||t.Base,e instanceof n},t.Base=p("Base",{_init:g,_create:g,getEl:function(){return this.$el},on:_.on,one:_.one,off:_.off,trigger:function(n){var i="string"==typeof n?new t.Event(n):n,o=[i].concat(d.call(arguments,1)),s=this._options[i.type],r=this.getEl();return s&&e.isFunction(s)&&!1===s.apply(this,o)&&(i.stopPropagation(),i.preventDefault()),_.trigger.apply(this,o),r&&r.triggerHandler(i,(o.shift(),o)),this},tpl2html:function(t,n){var i=this.template;return i="string"==typeof t?i[t]:(n=t,i),n||~i.indexOf("<%")?e.parseTpl(i,n):i},destroy:function(){this.$el&&this.$el.off(this.eventNs),this.trigger("destroy"),this.off(),this.destroyed=!0}},Object),e.ui=t}(gmu,gmu.$),function(t){t.extend(t,{throttle:function(e,n,i){function o(){function t(){r=Date.now(),n.apply(a,c)}function o(){s=void 0}var a=this,l=Date.now()-r,c=arguments;i&&!s&&t(),s&&clearTimeout(s),void 0===i&&l>e?t():s=setTimeout(i?o:t,void 0===i?e-l:e)}var s,r=0;return"function"!=typeof n&&(i=n,n=e,e=250),o._zid=n._zid=n._zid||t.proxy(n)._zid,o},debounce:function(e,n,i){return void 0===n?t.throttle(250,e,!1):t.throttle(e,n,void 0===i?!1:i!==!1)}})}(Zepto),function(t,e){function n(){t(e).on("scroll",t.debounce(80,function(){t(e).trigger("scrollStop")},!1))}function i(){t(e).off("scroll"),n()}n(),t(e).on("pageshow",function(n){n.persisted&&t(e).off("touchstart",i).one("touchstart",i)})}(Zepto,window),function(t){t.matchMedia=function(){var e=0,n="gmu-media-detect",i=t.fx.transitionEnd,o=t.fx.cssPrefix,s=t("<style></style>").append("."+n+"{"+o+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(o){var r,a,l=n+e++,c=[];return s.append("@media "+o+" { #"+l+" { width: 1px; } }\n"),r=t('<div class="'+n+'" id="'+l+'"></div>').appendTo("body").on(i,function(){a.matches=1===r.width(),t.each(c,function(e,n){t.isFunction(n)&&n.call(a,a)})}),a={matches:1===r.width(),media:o,addListener:function(t){return c.push(t),this},removeListener:function(t){var e=c.indexOf(t);return~e&&c.splice(e,1),this}}}}()}(Zepto),$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})}),function(t,e){t.extend(t.fn,{fix:function(n){var i=this;if(i.attr("isFixed"))return i;i.css(n).css("position","fixed").attr("isFixed",!0);var o=t('<div style="position:fixed;top:10px;"></div>').appendTo("body"),s=o[0].getBoundingClientRect().top,r=function(){window.pageYOffset>0&&(o[0].getBoundingClientRect().top!==s&&(i.css("position","absolute"),a(),t(window).on("scrollStop",a),t(window).on("ortchange",a)),t(window).off("scrollStop",r),o.remove())},a=function(){i.css({top:window.pageYOffset+(n.bottom!==e?window.innerHeight-i.height()-n.bottom:n.top||0),left:n.right!==e?document.body.offsetWidth-i.width()-n.right:n.left||0}),"100%"==n.width&&i.css("width",document.body.offsetWidth)};return t(window).on("scrollStop",r),i}})}(Zepto),function(t,e,n){t.define("Add2desktop",{options:{icon:"",container:"",key:"_gmu_adddesktop_key",useFix:!0,position:{bottom:12,left:"50%"},beforeshow:function(t){this.key()&&t.preventDefault()},afterhide:function(){this.key(1)},_isShow:!1},_init:function(){var t=this;t.on("ready",function(){t.$el.find(".ui-add2desktop-close").on("click",function(){t.hide()}),t._options.useFix&&t.$el.fix(t._options.position),t.show()}),t.on("destroy",function(){t.$el.remove()})},_create:function(){var t,n=this,i=e.os.version&&e.os.version.substr(0,3)>4.1?"new":"old";if(e.os.version&&e.os.version.substr(0,3)>=7&&(i="iOS7"),n._options.setup){var o=n.$el.children("img").attr("src");o&&(n._options.icon=o)}t=n.$el||(n.$el=e("<div></div>")),t.addClass("ui-add2desktop").appendTo(n._options.container||(n.$el.parent().length?"":document.body)),t.html('<img src="'+n._options.icon+'"/><p>先点击<span class="ui-add2desktop-icon-'+i+'"></span>，<br />再"添加到主屏幕"</p><span class="ui-add2desktop-close"><b></b></span><div class="ui-add2desktop-arrow"><b></b></div>')},key:function(t){var e=window.localStorage;return t!==n?e.setItem(this._options.key,t):e.getItem(this._options.key)},show:function(){var n=this;if(!n._options._isShow){if(!e.os.ios||e.browser.uc||e.browser.qq||e.browser.chrome)return n;var i=new t.Event("beforeshow");if(n.trigger(i),i.isDefaultPrevented())return n;n.$el.css("display","block"),n._options._isShow=!0}return n},hide:function(){var t=this;return t._options._isShow&&(t.$el.css("display","none"),t._options._isShow=!1,t.trigger("afterhide")),t}})}(gmu,gmu.$),function(t){function e(){var t=n.attr("hl-cls");clearTimeout(i),n.removeClass(t).removeAttr("hl-cls"),n=null,o.off("touchend touchmove touchcancel",e)}var n,i,o=t(document);t.fn.highlight=function(s,r){return this.each(function(){var a=t(this);a.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),s&&a.on("touchstart.hl",function(l){var c;n=r?(c=t(l.target).closest(r,this))&&c.length&&c:a,n&&(n.attr("hl-cls",s),i=setTimeout(function(){n.addClass(s)},100),o.on("touchend touchmove touchcancel",e))})})}}(Zepto),function(t,e,n){t.define("Button",{options:{iconpos:"left"},template:{icon:'<span class="ui-icon ui-icon-<%= name %>"></span>',text:'<span class="ui-btn-text"><%= text %></span>'},_getWrap:function(t){return t},_init:function(){var t=this;t.$el=t.$el===n?e("<span/>").appendTo(document.body):t.$el},_create:function(){var t=this,i=t._options,o=t.$wrap=t._getWrap(t.getEl()),s=o.is("input"),r=o.find(".ui-btn-text"),a=o.find(".ui-icon");i.label=i.label===n?o[s?"val":"text"]():i.label,s||i.label===n||!r.length&&(r=e(t.tpl2html("text",{text:i.label}))).appendTo(o.empty()),t.$label=r.length&&r,i.resetText=i.resetText||i.label,s||i.icon&&!a.length&&(a=e(t.tpl2html("icon",{name:i.icon}))).appendTo(o),t.$icon=a.length&&a,o.addClass("ui-btn "+(i.label&&i.icon?"ui-btn-icon-"+i.iconpos:i.label?"ui-btn-text-only":"ui-btn-icon-only")),i.state&&setTimeout(function(){t.state(i.state)},0)},state:function(t){if(t===n)return this._state;var e=this,i=e.$wrap,o=i.is("input"),s=e._options[t+"Text"];return e.$wrap.removeClass("ui-state-"+e._state).addClass("ui-state-"+t),s===n||(o?i:e.$label)[o?"val":"text"](s),e._state!==t&&e.trigger("statechange",t,e._state),e._state=t,e},toggle:function(){return this.state("active"===this._state?"reset":"active"),this}}),e(function(){e(document.body).highlight("ui-state-hover",".ui-btn:not(.ui-state-disabled)")})}(gmu,gmu.$),function(t,e){var n=0;t.Button.register("input",{_getWrap:function(t){var i,o,s;return t.is('input[type="checkbox"], input[type="radio"]')?(o=t.addClass("ui-hidden")[0],(i=o.id)||(o.id=i="input_btn_"+n++),s=e("label[for="+i+"]",o.form||o.ownerDocument||void 0),s.length||(s=e('<label for="'+i+'"></label>').insertBefore(t)),t.prop("checked")&&(this._options.state="active"),s):t},toggle:function(){var t=this.$el;return t.is('input[type="radio"]')&&($radios=e("[name='"+t.attr("name")+"']",t[0].form||t[0].ownerDocument||void 0),$radios.button("state","reset")),this.origin.apply(this,arguments)},state:function(t){var e=this.$el;return e.is('input[type="checkbox"], input[type="radio"]')&&e.prop("disabled","disabled"===t),this.origin.apply(this,arguments)}}),e(function(){e(document.body).on("click.button","label.ui-btn:not(.ui-state-disabled)",function(){e("#"+this.getAttribute("for")).button("toggle")})})}(gmu,gmu.$),function(t){function e(t){return"tagName"in t?t:t.parentNode}function n(t,e,n,i){var o=Math.abs(t-e),s=Math.abs(n-i);return o>=s?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function i(){c=null,u.last&&(u.el.trigger("longTap"),u={})}function o(){c&&clearTimeout(c),c=null}function s(){r&&clearTimeout(r),a&&clearTimeout(a),l&&clearTimeout(l),c&&clearTimeout(c),r=a=l=c=null,u={}}var r,a,l,c,u={},h=750;t(document).ready(function(){var p,d;t(document.body).bind("touchstart",function(n){p=Date.now(),d=p-(u.last||p),u.el=t(e(n.touches[0].target)),r&&clearTimeout(r),u.x1=n.touches[0].pageX,u.y1=n.touches[0].pageY,d>0&&250>=d&&(u.isDoubleTap=!0),u.last=p,c=setTimeout(i,h)}).bind("touchmove",function(t){o(),u.x2=t.touches[0].pageX,u.y2=t.touches[0].pageY,Math.abs(u.x1-u.x2)>10&&t.preventDefault()}).bind("touchend",function(){o(),u.x2&&Math.abs(u.x1-u.x2)>30||u.y2&&Math.abs(u.y1-u.y2)>30?l=setTimeout(function(){u.el.trigger("swipe"),u.el.trigger("swipe"+n(u.x1,u.x2,u.y1,u.y2)),u={}},0):"last"in u&&(a=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=s,u.el.trigger(e),u.isDoubleTap?(u.el.trigger("doubleTap"),u={}):r=setTimeout(function(){r=null,u.el.trigger("singleTap"),u={}},250)},0))}).bind("touchcancel",s),t(window).bind("scroll",s)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}(Zepto),function(t,e,n){var i,o=["01月","02月","03月","04月","05月","06月","07月","08月","09月","10月","11月","12月"],s=["日","一","二","三","四","五","六"],r=/^(\+|\-)?(\d+)(M|Y)$/i,a=function(t,e){return 32-new Date(t,e,32).getDate()},l=function(t,e){return new Date(t,e,1).getDay()},c=function(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n},u=function(t){return t.is("select, input")?t.val():t.attr("data-value")};t.define("Calendar",{options:{date:null,firstDay:1,maxDate:null,minDate:null,swipeable:!1,monthChangeable:!1,yearChangeable:!1},_init:function(){this.on("ready",function(){var t=this._options,n=this._container||this.$el,i=e.proxy(this._eventHandler,this);this.minDate(t.minDate).maxDate(t.maxDate).date(t.date||new Date).refresh(),n.addClass("ui-calendar").on("click",i).highlight(),t.swipeable&&n.on("swipeLeft swipeRight",i)})},_create:function(){var t=this.$el;t||(t=this.$el=e("<div>")),t.appendTo(this._options.container||(t.parent().length?"":document.body))},_eventHandler:function(t){var n,i,o,s,r,a=(this._options,(this._container||this.$el).get(0));switch(t.type){case"swipeLeft":case"swipeRight":return this.switchMonthTo(("swipeRight"==t.type?"-":"+")+"1M");case"change":return r=e(".ui-calendar-header .ui-calendar-year, .ui-calendar-header .ui-calendar-month",this._el),this.switchMonthTo(u(r.eq(1)),u(r.eq(0)));default:i=t.target,(n=e(i).closest(".ui-calendar-calendar tbody a",a))&&n.length?(t.preventDefault(),o=n.parent(),this._option("selectedDate",s=new Date(o.attr("data-year"),o.attr("data-month"),n.text())),this.trigger("select",s,e.calendar.formatDate(s),this),this.refresh()):(n=e(i).closest(".ui-calendar-prev, .ui-calendar-next",a))&&n.length&&(t.preventDefault(),this.switchMonthTo((n.is(".ui-calendar-prev")?"-":"+")+"1M"))}},_option:function(t,i){var o,s,r=this._options;if(i!==n){switch(t){case"minDate":case"maxDate":r[t]=i?e.calendar.parseDate(i):null;break;case"selectedDate":o=r.minDate,s=r.maxDate,i=e.calendar.parseDate(i),i=o&&o>i?o:s&&i>s?s:i,r._selectedYear=r._drawYear=i.getFullYear(),r._selectedMonth=r._drawMonth=i.getMonth(),r._selectedDay=i.getDate();break;case"date":this._option("selectedDate",i),r[t]=this._option("selectedDate");break;default:r[t]=i}return r._invalid=!0,this}return"selectedDate"==t?new Date(r._selectedYear,r._selectedMonth,r._selectedDay):r[t]},switchToToday:function(){var t=new Date;return this.switchMonthTo(t.getMonth(),t.getFullYear())},switchMonthTo:function(t,e){var n,i,o,s=this._options,a=this.minDate(),l=this.maxDate();return"[object String]"===Object.prototype.toString.call(t)&&r.test(t)?(n="-"==RegExp.$1?-parseInt(RegExp.$2,10):parseInt(RegExp.$2,10),i=RegExp.$3.toLowerCase(),t=s._drawMonth+("m"==i?n:0),e=s._drawYear+("y"==i?n:0)):(t=parseInt(t,10),e=parseInt(e,10)),o=new Date(e,t,1),o=a&&a>o?a:l&&o>l?l:o,t=o.getMonth(),e=o.getFullYear(),(t!=s._drawMonth||e!=s._drawYear)&&(this.trigger("monthchange",s._drawMonth=t,s._drawYear=e,this),s._invalid=!0,this.refresh()),this},refresh:function(){var t=this._options,n=this._container||this.$el,i=e.proxy(this._eventHandler,this);if(t._invalid)return e(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",n).highlight(),e(".ui-calendar-header select",n).off("change",i),n.empty().append(this._generateHTML()),e(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",n).highlight("ui-state-hover"),e(".ui-calendar-header select",n).on("change",i),t._invalid=!1,this},destroy:function(){var t=this._container||this.$el,n=this._eventHandler;return e(".ui-calendar-calendar td:not(.ui-state-disabled)",t).highlight(),e(".ui-calendar-header select",t).off("change",n),t.remove(),this.$super("destroy")},_generateHTML:function(){var t,e,n,i,o,r,c,u,h=this._options,p=h._drawYear,d=h._drawMonth,f=new Date,g=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=this.minDate(),v=this.maxDate(),_=this.selectedDate(),w="";for(n=isNaN(n=parseInt(h.firstDay,10))?0:n,w+=this._renderHead(h,p,d,m,v)+'<table  class="ui-calendar-calendar"><thead><tr>',t=0;7>t;t++)i=(t+n)%7,w+="<th"+((t+n+6)%7>=5?' class="ui-calendar-week-end"':"")+"><span>"+s[i]+"</span></th>";for(w+='</thead></tr><tbody><tr class="ui-calendar-gap"><td colspan="7">&#xa0;</td></tr>',r=a(p,d),o=(l(p,d)-n+7)%7,c=Math.ceil((o+r)/7),u=new Date(p,d,1-o),t=0;c>t;t++){for(w+="<tr>",e=0;7>e;e++)w+=this._renderDay(e,u,n,d,_,g,m,v),u.setDate(u.getDate()+1);w+="</tr>"}return w+="</tbody></table>"},_renderHead:function(t,e,n,i,s){var r,a,l='<div class="ui-calendar-header">',c=new Date(e,n,-1),u=new Date(e,n+1,1);if(l+='<a class="ui-calendar-prev'+(i&&i>c?" ui-state-disable":"")+'" href="#">&lt;&lt;</a><div class="ui-calendar-title">',t.yearChangeable){for(l+='<select class="ui-calendar-year">',r=Math.max(1970,e-10),a=r+20;a>r;r++)l+='<option value="'+r+'" '+(r==e?'selected="selected"':"")+">"+r+"年</option>";l+="</select>"}else l+='<span class="ui-calendar-year" data-value="'+e+'">'+e+"年</span>";if(t.monthChangeable){for(l+='<select class="ui-calendar-month">',r=0;12>r;r++)l+='<option value="'+r+'" '+(r==n?'selected="selected"':"")+">"+o[r]+"</option>";l+="</select>"}else l+='<span class="ui-calendar-month" data-value="'+n+'">'+o[n]+"</span>";return l+='</div><a class="ui-calendar-next'+(s&&u>s?" ui-state-disable":"")+'" href="#">&gt;&gt;</a></div>'},_renderDay:function(t,e,n,i,o,s,r,a){var l,c=e.getMonth()!==i;return l=c||r&&r>e||a&&e>a,"<td class='"+((t+n+6)%7>=5?"ui-calendar-week-end":"")+(l?" ui-calendar-unSelectable ui-state-disabled":"")+(c||l?"":(e.getTime()===o.getTime()?" ui-calendar-current-day":"")+(e.getTime()===s.getTime()?" ui-calendar-today":""))+"'"+(l?"":" data-month='"+e.getMonth()+"' data-year='"+e.getFullYear()+"'")+">"+(c?"&#xa0;":l?"<span class='ui-state-default'>"+e.getDate()+"</span>":"<a class='ui-state-default"+(e.getTime()===s.getTime()?" ui-state-highlight":"")+(e.getTime()===o.getTime()?" ui-state-active":"")+"' href='#'>"+e.getDate()+"</a>")+"</td>"}}),i=t.Calendar.prototype,e.each(["maxDate","minDate","date","selectedDate"],function(t,e){i[e]=function(t){return this._option(e,t)}}),e.calendar={parseDate:function(t){var e=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return"[object Date]"===Object.prototype.toString.call(t)?t:e.test(t)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},formatDate:function(t){return t.getFullYear()+"-"+c(t.getMonth()+1,2)+"-"+c(t.getDate(),2)}}}(gmu,gmu.$),function(t,e){function n(t,i){var o,s=e('<span class="ui-holder"></span>'),r=e('<div class="ui-slideup-wrap">   <div class="ui-slideup">     <div class="header">       <span class="ok-btn">确认</span>       <span class="no-btn">取消</span>     </div>     <div class="frame"></div>   </div></div>'),a=e(".ui-slideup",r),l=e(".frame",a),c={refresh:function(t){r.css({top:window.pageYOffset+"px",height:window.innerHeight+"px"}),a.animate({translateY:"-"+a.height()+"px",translateZ:"0"},400,"ease-out",function(){t&&t.call(c)})},close:function(i){var o=n.count=n.count-1;return r.off("click.slideup"+u),a.animate({translateY:"0",translateZ:"0"},200,"ease-out",function(){i&&i(),s.replaceWith(t),r.remove(),0===o&&e(document).off("touchmove.slideup")}).find(".ok-btn, .no-btn").highlight(),c}},u=n.id=(n.id>>>0)+1;return l.append(t.replaceWith(s)),o=n.count=(n.count>>>0)+1,1===o&&e(document).on("touchmove.slideup",function(t){t.preventDefault()}),r.on("click.slideup"+u,".ok-btn, .no-btn",function(){i.call(c,e(this).is(".ok-btn"))!==!1&&c.close()}).appendTo(document.body).find(".ok-btn, .no-btn").highlight("ui-state-hover"),c.refresh(),c}t.Calendar.register("picker",{_create:function(){var t=this.$el;if(!t)throw new Error("请指定日期选择器的赋值对象")},_init:function(){var t=this.$el,n=this._options;this._container=e("<div></div>"),n.date||(n.date=t[t.is("select, input")?"val":"text"]()),e(window).on("ortchange",e.proxy(this._eventHandler,this)),this.on("commit",function(n,i){var o=e.calendar.formatDate(i);t[t.is("select, input")?"val":"text"](o)}),this.on("destroy",function(){e(window).off("ortchange",this._eventHandler),this._frame&&this._frame.close()})},_eventHandler:function(t){"ortchange"===t.type?this._frame&&this._frame.refresh():this.origin(t)},show:function(){var t,i=this;return this._visible?this:(t=this._container,this._visible=!0,this.refresh(),this._frame=n(t,function(t){var n;return t?(n=i._option("selectedDate"),i.trigger("commit",n,e.calendar.formatDate(n),i),i._option("date",n)):i._option("selectedDate",i._option("date")),i.hide(),!1}),this.trigger("show",this))},hide:function(){var e,n=this;return this._visible?(e=new t.Event("beforehide"),this.trigger(e,this),e.isDefaultPrevented()?this:(this._visible=!1,this._frame.close(function(){n.trigger&&n.trigger("hide")}),this._frame=null,this)):this}})}(gmu,gmu.$),function(t,e,n){var i={close:'<a class="ui-dialog-close" title="关闭"><span class="ui-icon ui-icon-delete"></span></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"><h3><%=title%></h3></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> '};t.define("Dialog",{options:{autoOpen:!0,buttons:null,closeBtn:!0,mask:!0,width:300,height:"auto",title:null,content:null,scrollMove:!0,container:null,maskClick:null,position:null},getWrap:function(){return this._options._wrap},_init:function(){var t,n=this,o=n._options,s=0,r=e.proxy(n._eventHandler,n),a={};n.on("ready",function(){o._container=e(o.container||document.body),(o._cIsBody=o._container.is("body"))||o._container.addClass("ui-dialog-container"),a.btns=t=[],o.buttons&&e.each(o.buttons,function(e){t.push({index:++s,text:e,key:e})}),o._mask=o.mask?e(i.mask).appendTo(o._container):null,o._wrap=e(e.parseTpl(i.wrap,a)).appendTo(o._container),o._content=e(".ui-dialog-content",o._wrap),o._title=e(i.title),o._close=o.closeBtn&&e(i.close).highlight("ui-dialog-close-hover"),n.$el=n.$el||o._content,n.title(o.title),n.content(o.content),t.length&&e(".ui-dialog-btns .ui-btn",o._wrap).highlight("ui-state-hover"),o._wrap.css({width:o.width,height:o.height}),e(window).on("ortchange",r),o._wrap.on("click",r),o._mask&&o._mask.on("click",r),o.autoOpen&&n.open()})},_create:function(){var t=this._options;this._options.setup&&(t.content=t.content||this.$el.show(),t.title=t.title||this.$el.attr("title"))},_eventHandler:function(t){var n,i,o,s=this,r=s._options;switch(t.type){case"ortchange":this.refresh();break;case"touchmove":r.scrollMove&&t.preventDefault();break;case"click":if(r._mask&&(e.contains(r._mask[0],t.target)||r._mask[0]===t.target))return s.trigger("maskClick");i=r._wrap.get(0),(n=e(t.target).closest(".ui-dialog-close",i))&&n.length?s.close():(n=e(t.target).closest(".ui-dialog-btns .ui-btn",i))&&n.length&&(o=r.buttons[n.attr("data-key")],o&&o.apply(s,arguments))}},_calculate:function(){var t,n,i=this,o=i._options,s=document.body,r={},a=o._cIsBody,l=Math.round;return o.mask&&(r.mask=a?{width:"100%",height:Math.max(s.scrollHeight,s.clientHeight)-1}:{width:"100%",height:"100%"}),t=o._wrap.offset(),n=e(window),r.wrap={left:"50%",marginLeft:-l(t.width/2)+"px",top:a?l(n.height()/2)+window.pageYOffset:"50%",marginTop:-l(t.height/2)+"px"},r},refresh:function(){var t,n,i=this,o=i._options;return o._isOpen&&(n=function(){t=i._calculate(),t.mask&&o._mask.css(t.mask),o._wrap.css(t.wrap)},e.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)?(document.body.scrollLeft=0,setTimeout(n,200)):n()),i},open:function(t,i){var o=this._options;return o._isOpen=!0,o._wrap.css("display","block"),o._mask&&o._mask.css("display","block"),t!==n&&this.position?this.position(t,i):this.refresh(),e(document).on("touchmove",e.proxy(this._eventHandler,this)),this.trigger("open")},close:function(){var t,n=this._options;return t=e.Event("beforeClose"),this.trigger(t),t.defaultPrevented?this:(n._isOpen=!1,n._wrap.css("display","none"),n._mask&&n._mask.css("display","none"),e(document).off("touchmove",this._eventHandler),this.trigger("close"))},title:function(t){var e=this._options,i=t!==n;return i&&(t=(e.title=t)?"<h3>"+t+"</h3>":t,e._title.html(t)[t?"prependTo":"remove"](e._wrap),e._close&&e._close.prependTo(e.title?e._title:e._wrap)),i?this:e.title},content:function(t){var e=this._options,i=t!==n;return i&&e._content.empty().append(e.content=t),i?this:e.content},destroy:function(){var t=this._options,n=this._eventHandler;return e(window).off("ortchange",n),e(document).off("touchmove",n),t._wrap.off("click",n).remove(),t._mask&&t._mask.off("click",n).remove(),t._close&&t._close.highlight(),this.$super("destroy")}})}(gmu,gmu.$),function(t){function e(e){return this.each(function(n){var o=t(this),s=t.isFunction(e)?e.call(this,n,o.offset()):e,r=o.css("position"),a="absolute"===r||"fixed"===r||o.position();"relative"===r&&(a.top-=parseFloat(o.css("top"))||-1*parseFloat(o.css("bottom"))||0,a.left-=parseFloat(o.css("left"))||-1*parseFloat(o.css("right"))||0),parentOffset=o.offsetParent().offset(),props={top:i(s.top-(a.top||0)-parentOffset.top),left:i(s.left-(a.left||0)-parentOffset.left)},"static"==r&&(props.position="relative"),s.using?s.using.call(this,props,n):o.css(props)})}var n=t.fn.offset,i=Math.round;t.fn.offset=function(t){return t?e.call(this,t):n.call(this)}}(Zepto),function(t){function e(t,e){return(parseInt(t,10)||0)*(u.test(t)?e/100:1)}function n(t,n,i,o){return["right"===t[0]?i:"center"===t[0]?i/2:0,"bottom"===t[1]?o:"center"===t[1]?o/2:0,e(n[0],i),e(n[1],o)]}function i(t){var e=t[0],n=e.preventDefault;return e=e.touches&&e.touches[0]||e,9===e.nodeType||e===window||n?{width:n?0:t.width(),height:n?0:t.height(),top:e.pageYOffset||e.pageY||0,left:e.pageXOffset||e.pageX||0}:t.offset()}function o(e){var n=t(e=e||window),o=i(n);return e=n[0],{$el:n,width:o.width,height:o.height,scrollLeft:e.pageXOffset||e.scrollLeft,scrollTop:e.pageYOffset||e.scrollTop}}function s(t,e){["my","at"].forEach(function(n){var i=(t[n]||"").split(" "),o=t[n]=["center","center"],s=e[n]=[0,0];1===i.length&&i[c.test(i[0])?"unshift":"push"]("center"),l.test(i[0])&&(o[0]=RegExp.$1)&&(s[0]=RegExp.$2),c.test(i[1])&&(o[1]=RegExp.$1)&&(s[1]=RegExp.$2)})}var r=t.fn.position,a=Math.round,l=/^(left|center|right)([\+\-]\d+%?)?$/,c=/^(top|center|bottom)([\+\-]\d+%?)?$/,u=/%$/;t.fn.position=function(e){if(!e||!e.of)return r.call(this);e=t.extend({},e);var l,c=t(e.of),u=e.collision,h=u&&o(e.within),p={},d=i(c),f={left:d.left,top:d.top};return c[0].preventDefault&&(e.at="left top"),s(e,p),l=n(e.at,p.at,d.width,d.height),f.left+=l[0]+l[2],f.top+=l[1]+l[3],this.each(function(){var i=t(this),o=i.offset(),s=t.extend({},f),r=n(e.my,p.my,o.width,o.height);s.left=a(s.left+r[2]-r[0]),s.top=a(s.top+r[3]-r[1]),u&&u.call(this,s,{of:d,offset:o,my:e.my,at:e.at,within:h,$el:i}),s.using=e.using,i.offset(s)})}}(Zepto),function(t,e){t.Dialog.register("position",{_init:function(){var t=this._options;t.position=t.position||{of:t.container||window,at:"center",my:"center"}},position:function(t,n){var i=this._options;return e.isPlainObject(t)?e.extend(i.position,t):i.position.at="left"+(t>0?"+"+t:t)+" top"+(n>0?"+"+n:n),this.refresh()},_calculate:function(){var t=this,n=t._options,i=n.position,o=t.origin();return n._wrap.position(e.extend(i,{using:function(t){o.wrap=t}})),o}})}(gmu,gmu.$),function(t,e,n){t.define("Popover",{options:{container:null,content:null,event:"click"},template:{frame:"<div>"},_create:function(){var t=this,n=t._options,i=n.target&&e(n.target)||t.getEl(),o=n.container&&e(n.container);o&&o.length||(o=e(t.tpl2html("frame")).addClass("ui-mark-temp")),t.$root=o,n.content&&t.setContent(n.content),t.trigger("done.dom",o.addClass("ui-"+t.widgetName),n),o.parent().length||i.after(o),t.target(i)},_checkTemp:function(t){t.is(".ui-mark-temp")&&t.off(this.eventNs)&&t.remove()},show:function(){var e=this,n=t.Event("beforeshow");return e.trigger(n),n.isDefaultPrevented()?void 0:(e.trigger("placement",e.$root.addClass("ui-in"),e.$target),e._visible=!0,e.trigger("show"))},hide:function(){var e=this,n=new t.Event("beforehide");return e.trigger(n),n.isDefaultPrevented()?void 0:(e.$root.removeClass("ui-in"),e._visible=!1,e.trigger("hide"))},toggle:function(){var t=this;return t[t._visible?"hide":"show"].apply(t,arguments)},target:function(t){if(t===n)return this.$target;var i=this,o=e(t),s=i.$target,r=i._options.event+i.eventNs;return s&&s.off(r),i.$target=o.on(r,function(t){t.preventDefault(),i.toggle()}),i},setContent:function(t){var e=this.$root;return e.empty().append(t),this},destroy:function(){var t=this;return t.$target.off(t.eventNs),t._checkTemp(t.$root),t.$super("destroy")}})}(gmu,gmu.$),function(t,e){t.define("Dropmenu",{options:{content:null},template:{item:'<li><a <% if ( href ) { %>href="<%= href %>"<% } %>><% if ( icon ) { %><span class="ui-icon ui-icon-<%= icon %>"></span><% } %><%= text %></a></li>',divider:'<li class="divider"></li>',wrap:"<ul>"},_init:function(){var t=this;t.on("done.dom",function(e,n){t.$list=n.find("ul").first().addClass("ui-dropmenu-items").highlight("ui-state-hover",".ui-dropmenu-items>li:not(.divider)")})},_create:function(){var n=this,i=n._options,o="";"array"===e.type(i.content)&&(i.content.forEach(function(t){t=e.extend({href:"",icon:"",text:""},"string"==typeof t?{text:t}:t),o+=n.tpl2html("divider"===t.text?"divider":"item",t)}),i.content=e(n.tpl2html("wrap")).append(o)),n.$super("_create"),n.$list.on("click"+n.eventNs,".ui-dropmenu-items>li:not(.ui-state-disable):not(.divider)",function(e){var i=t.Event("itemclick",e);n.trigger(i,this),i.isDefaultPrevented()||n.hide()})}},t.Popover)}(gmu,gmu.$),function(t){t.Dropmenu.options.horizontal=!0,t.Dropmenu.option("horizontal",!0,function(){var t=this;
t.on("done.dom",function(t,e){e.addClass("ui-horizontal")})})}(gmu,gmu.$),function(t,e){e.extend(t.Dropmenu.options,{placement:"bottom",align:"center",offset:null}),t.Dropmenu.option("placement",function(t){return~["top","bottom"].indexOf(t)},function(){function t(t,e){return"right"===t||"bottom"===t?e:"center"===t?e/2:0}function n(e,n,o,s,r){var a=i.of,l=i.coord,c=i.offset,u=a.top,h=a.left;return h+=t(n,a.width)-t(s,l.width),u+=t(o,a.height)-t(r,l.height),c="function"==typeof c?c.call(null,{left:h,top:u},e):c||{},{left:h+(c.left||0),top:u+(c.top||0)}}var i,o={top_center:"center top center bottom",top_left:"left top left bottom",top_right:"right top right bottom",bottom_center:"center bottom center top",bottom_right:"right bottom right top",bottom_left:"left bottom left top"},s={};e.each(o,function(t,e){e=e.split(/\s/g),e.unshift(t),s[t]=function(){return n.apply(null,e)}}),this.on("placement",function(t,e,n){var o,r=this,a=r._options,l=a.placement,c=a.align;i={coord:e.offset(),of:n.offset(),placement:l,align:c,$el:e,$of:n,offset:a.offset},o=s[l+"_"+c](),r.trigger("before.placement",o,i,s),/^(\w+)_(\w+)$/.test(i.preset)&&(i.placement=RegExp.$1,i.align=RegExp.$2),e.offset(o),r.trigger("after.placement",o,i)})})}(gmu,gmu.$),function(t,e,n){t.define("Gotop",{options:{container:"",useFix:!0,useHide:!0,useAnimation:!1,position:{bottom:10,right:10},afterScroll:null},_init:function(){var t,n,i=this,o=i._options;e.os.version&&e.os.version.substr(0,3)>=7&&(o.position.bottom=40),i.on("ready",function(){t=i.$el,n=e.proxy(i._eventHandler,i),o.useHide&&e(document).on("touchmove",n),e(window).on("touchend touchcancel scrollStop",n),e(window).on("scroll ortchange",n),t.on("click",n),i.on("destroy",function(){e(window).off("touchend touchcancel scrollStop",n),e(document).off("touchmove",n),e(window).off("scroll ortchange",n)}),o.useFix&&t.fix(o.position),o.root=t[0]}),i.on("destroy",function(){i.$el.remove()})},_create:function(){var t=this;return t.$el||(t.$el=e("<div></div>")),t.$el.addClass("ui-gotop").append("<div></div>").appendTo(t._options.container||(t.$el.parent().length?"":document.body)),t},_eventHandler:function(t){var e=this;switch(t.type){case"touchmove":e.hide();break;case"scroll":clearTimeout(e._options._TID);break;case"touchend":case"touchcancel":clearTimeout(e._options._TID),e._options._TID=setTimeout(function(){e._check.call(e)},300);break;case"scrollStop":e._check();break;case"ortchange":e._check.call(e);break;case"click":e._scrollTo()}},_check:function(t){var e=this;return(t!==n?t:window.pageYOffset)>document.documentElement.clientHeight?e.show():e.hide(),e},_scrollTo:function(){var t=this,e=window.pageYOffset;return t.hide(),clearTimeout(t._options._TID),t._options.useAnimation?t._options.moveToTop=setInterval(function(){e>1?(window.scrollBy(0,-Math.min(150,e-1)),e-=150):(clearInterval(t._options.moveToTop),t.trigger("afterScroll"))},25,!0):(window.scrollTo(0,1),t.trigger("afterScroll")),t},show:function(){return this._options.root.style.display="block",this},hide:function(){return this._options.root.style.display="none",this}})}(gmu,gmu.$),function(t,e){t.define("Historylist",{options:{container:document.body,deleteSupport:!0,items:[]},template:{wrap:'<ul class="ui-historylist">',item:'<li data-id="<%=id%>"><p class="ui-historylist-itemwrap"><span class="ui-historylist-item"><%=context%></span></p></li>',clear:'<p class="ui-historylist-clear">清空搜索历史</p>'},_init:function(){var t=this,e=t._options;t.$el=e.container=e.container||document.body,t.items=[],t.on("ready",function(){t._bindUI()}),t.on("itemDelete",function(){0===t.items.length&&t.hide()})},_create:function(){var t=this,n=t._options;t.$el.hide(),t.$wrap=e(t.tpl2html("wrap")).appendTo(n.container),t.$clear=e(t.tpl2html("clear")).appendTo(n.container),!t._options.deleteSupport&&t.$clear.hide(),t.addItems(n.items),t.show()},_filterItemsById:function(t,e){var n=this;n.items.forEach(function(i,o){return i.id===t?void e.call(n,i,o):void 0})},_bindUI:function(){var n,i,o,s,r,a,l,c,u,h,p,d,f,g,m=this,v=!1;m.$clear.on("tap"+m.eventNs,function(e){setTimeout(function(){t.Dialog({closeBtn:!1,buttons:{"清空":function(){m.clear(),this.destroy()},"取消":function(){this.destroy()}},title:"清空历史",content:"<p>是否清空搜索历史？</p>",open:function(){this._options._wrap.addClass("ui-historylist-dialog")}})},10),e.preventDefault(),e.stopPropagation()}),m.$wrap.on("tap"+m.eventNs,function(t){if(!m._options.deleteSupport){if(i=e(t.target),!i.hasClass("ui-historylist-itemwrap")&&!(i=i.parents(".ui-historylist-itemwrap")).length)return void(i=null);o=i.parent().attr("data-id"),m._filterItemsById(o,function(t){m.trigger("itemTouch",{item:t.value})})}}),m.$wrap.on("touchstart"+m.eventNs,function(t){if(m._options.deleteSupport){if(n=t.touches[0],i=e(n.target),s=t.timeStamp,c=l=parseInt(n.pageX),h=u=parseInt(n.pageY),f=!1,v=!1,!i.hasClass("ui-historylist-itemwrap")&&!(i=i.parents(".ui-historylist-itemwrap")).length)return void(i=null);i.addClass("ui-historylist-ontap"),i.css("width",i.width()-parseInt(i.css("border-left-width"))-parseInt(i.css("border-right-width")))}}),m.$wrap.on("touchmove"+m.eventNs,function(t){if(i){if(c=t.touches[0].pageX,h=t.touches[0].pageY,void 0===a&&(a=setTimeout(function(){v=Math.abs(h-u)>Math.abs(c-l)/2?!1:!0},10)),f=f||(c-l>=3||h-u>=3?!0:!1),!v)return void setTimeout(function(){i&&i.removeClass("ui-historylist-ontap")},150);d=(c-l)/m.$wrap.width(),i.addClass("ui-historylist-itemmoving"),i.removeClass("ui-historylist-ontap"),i.css("-webkit-transform","translate3d("+(c-l)+"px, 0, 0)"),i.css("opacity",1-d),t.preventDefault(),t.stopPropagation()}}),m.$wrap.on("touchend"+m.eventNs+" touchcancel"+m.eventNs,function(t){i&&(clearTimeout(a),a=void 0,o=i.parent().attr("data-id"),r=t.timeStamp,p=(c-l)/(r-s),g=Math.abs(c-l),i.removeClass("ui-historylist-ontap"),i.removeClass("ui-historylist-itemmoving"),g<m.$wrap.width()/3&&Math.abs(p)>.1&&v||g>=m.$wrap.width()/3&&v?m.removeItem(o,i):(i.css("width","auto"),i.css("-webkit-transform","translate3d(0, 0, 0)"),i.css("opacity",1),!f&&3>g&&m._filterItemsById(o,function(t){m.trigger("itemTouch",{item:t.value})})),i=null)})},show:function(){var t=this;if(0!==t.items.length)return t.sync===!1&&(t.$wrap.html(""),t.addItems(t.syncitems),t.sync=!0),t.$el.show(),t.isShow=!0,t},hide:function(){var t=this;return t.$el.hide(),t.isShow=!1,t},_getItemId:function(){var t=this;return void 0===t._itemId?t._itemId=1:++t._itemId,"__dd__"+t._itemId},_getFormatItem:function(t){var e=this;return"[object String]"===Object.prototype.toString.call(t)?{context:t,value:t,id:e._getItemId()}:{context:t.context||t.value,value:t.value||t.context,id:e._getItemId()}},addItem:function(t){var n=this,t=n._getFormatItem(t);return n.items.forEach(function(i,o){return i.value===t.value?(n.items.splice(o,1),void e(n.$wrap.children()[o]).remove()):void 0}),0===n.$wrap.children().length?n.$wrap.append(n.tpl2html("item",t)):e(n.tpl2html("item",t)).insertBefore(n.$wrap.children()[0]),n.items.unshift(t),n},addItems:function(t){var e=this;return t.forEach(function(t){e.addItem(t)}),e},update:function(t){var e=this;return e.isShow?(e.$wrap.html(""),e.addItems(t),e.sync=!0):(e.syncitems=t,e.sync=!1),e},removeItem:function(t,e){var n,i,o,s=this;i=e.css("-webkit-transform"),o=/translate3d\((.*?),.*/.test(i)?RegExp.$1:0,n=parseInt(o,10)>=0?e.width():-e.width(),e.css("-webkit-transform","translate3d("+n+"px, 0, 0)"),e.on("transitionEnd"+s.eventNs+" webkitTransitionEnd"+s.eventNs,function(){e.parent().remove(),s._filterItemsById(t,function(t,e){s.items.splice(e,1),s.trigger("itemDelete",{item:t.value})})})},clear:function(){var t=this;return t.$wrap.html(""),t.items=[],t.sync=!0,t.hide(),t.trigger("clear"),t},disableDelete:function(){var t=this;return t._options.deleteSupport=!1,t.$clear.hide(),t},enableDelete:function(){var t=this;return t._options.deleteSupport=!0,t.$clear.show(),t},destroy:function(){var t=this;return t.$wrap.off(t.eventNs),t.$clear.off(t.eventNs),t.$wrap.remove(),t.$clear.remove(),t.$super("destroy")}})}(gmu,gmu.$),function(t,e,n){t.define("Navigator",{options:{content:null,event:"click"},template:{list:"<ul>",item:'<li><a<% if( href ) { %> href="<%= href %>"<% } %>><%= text %></a></li>'},_create:function(){var t,i,o=this,s=o._options,r=o.getEl(),a=r.find("ul").first(),l="ui-"+o.widgetName;!a.length&&s.content?(a=e(o.tpl2html("list")),t=o.tpl2html("item"),i="",s.content.forEach(function(n){n=e.extend({href:"",text:""},"string"==typeof n?{text:n}:n),i+=t(n)}),a.append(i).appendTo(r)):(r.is("ul, ol")&&(a=r.wrap("<div>"),r=r.parent()),s.index===n&&(s.index=a.find(".ui-state-active").index(),~s.index||(s.index=0))),o.$list=a.addClass(l+"-list"),o.trigger("done.dom",r.addClass(l),s),a.highlight("ui-state-hover","li"),a.on(s.event+o.eventNs,"li:not(.ui-state-disable)>a",function(t){o._switchTo(e(this).parent().index(),t)}),o.index=-1,o.switchTo(s.index)},_switchTo:function(e,n){if(e!==this.index){var i,o=this,s=o.$list.children(),r=t.Event("beforeselect",n);if(o.trigger(r,s.get(e)),!r.isDefaultPrevented())return i=s.removeClass("ui-state-active").eq(e).addClass("ui-state-active"),o.index=e,o.trigger("select",e,i[0])}},switchTo:function(t){return this._switchTo(~~t)},unselect:function(){this.index=-1,this.$list.children().removeClass("ui-state-active")},getIndex:function(){return this.index}})}(gmu,gmu.$),function(t,e){function n(t){return""===r?t:(t=t.charAt(0).toUpperCase()+t.substr(1),r+t)}var i=Math,o=[],s=e.createElement("div").style,r=function(){for(var t,e="webkitT,MozT,msT,OT,t".split(","),n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in s)return e[n].substr(0,e[n].length-1);return!1}(),a=r?"-"+r.toLowerCase()+"-":"",l=n("transform"),c=n("transitionProperty"),u=n("transitionDuration"),h=n("transformOrigin"),p=n("transitionTimingFunction"),d=(n("transitionDelay"),/android/gi.test(navigator.appVersion)),f=/hp-tablet/gi.test(navigator.appVersion),g=n("perspective")in s,m="ontouchstart"in t&&!f,v=!!r,_=n("transition")in s,w="onorientationchange"in t?"orientationchange":"resize",b=m?"touchstart":"mousedown",y=m?"touchmove":"mousemove",x=m?"touchend":"mouseup",$=m?"touchcancel":"mouseup",S=function(){if(r===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[r]}(),T=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),k=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),D=g?" translateZ(0)":"",C=function(n,i){var o,s=this;s.wrapper="object"==typeof n?n:e.getElementById(n),s.wrapper.style.overflow="hidden",s.scroller=s.wrapper.children[0],s.translateZ=D,s.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(o in i)s.options[o]=i[o];s.x=s.options.x,s.y=s.options.y,s.options.useTransform=v&&s.options.useTransform,s.options.useTransition=_&&s.options.useTransition,s.scroller.style[c]=s.options.useTransform?a+"transform":"top left",s.scroller.style[u]="0",s.scroller.style[h]="0 0",s.options.useTransition&&(s.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),s.options.useTransform?s.scroller.style[l]="translate("+s.x+"px,"+s.y+"px)"+D:s.scroller.style.cssText+=";position:absolute;top:"+s.y+"px;left:"+s.x+"px",s.refresh(),s._bind(w,t),s._bind(b),s.options.checkDOMChanges&&(s.checkDOMTime=setInterval(function(){s._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(t){var e=this;switch(t.type){case b:if(!m&&0!==t.button)return;e._start(t);break;case y:e._move(t);break;case x:case $:e._end(t);break;case w:e._resize();break;case S:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_resize:function(){var t=this;setTimeout(function(){t.refresh()},d?200:0)},_pos:function(t,e){t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[l]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+D:(t=i.round(t),e=i.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e},_start:function(e){var n,o,s,r=this,a=m?e.touches[0]:e;r.enabled&&(r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,e),r.options.useTransition&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.isStopScrollAction=!1,r.options.momentum&&(r.options.useTransform?(n=getComputedStyle(r.scroller,null)[l].replace(/[^0-9\-.,]/g,"").split(","),o=+n[4],s=+n[5]):(o=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),s=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")),(i.round(o)!=i.round(r.x)||i.round(s)!=i.round(r.y))&&(r.isStopScrollAction=!0,r.options.useTransition?r._unbind(S):k(r.aniTime),r.steps=[],r._pos(o,s),r.options.onScrollEnd&&r.options.onScrollEnd.call(r))),r.startX=r.x,r.startY=r.y,r.pointX=a.pageX,r.pointY=a.pageY,r.startTime=e.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,e),r._bind(y,t),r._bind(x,t),r._bind($,t))},_move:function(t){var e=this,n=m?t.touches[0]:t,o=n.pageX-e.pointX,s=n.pageY-e.pointY,r=e.x+o,a=e.y+s,l=t.timeStamp||Date.now();e.options.onBeforeScrollMove&&e.options.onBeforeScrollMove.call(e,t),e.pointX=n.pageX,e.pointY=n.pageY,(r>0||r<e.maxScrollX)&&(r=e.options.bounce?e.x+o/2:r>=0||e.maxScrollX>=0?0:e.maxScrollX),(a>e.minScrollY||a<e.maxScrollY)&&(a=e.options.bounce?e.y+s/2:a>=e.minScrollY||e.maxScrollY>=0?e.minScrollY:e.maxScrollY),e.distX+=o,e.distY+=s,e.absDistX=i.abs(e.distX),e.absDistY=i.abs(e.distY),e.absDistX<6&&e.absDistY<6||(e.options.lockDirection&&(e.absDistX>e.absDistY+5?(a=e.y,s=0):e.absDistY>e.absDistX+5&&(r=e.x,o=0)),e.moved=!0,e._beforePos?e._beforePos(a,s)&&e._pos(r,a):e._pos(r,a),e.dirX=o>0?-1:0>o?1:0,e.dirY=s>0?-1:0>s?1:0,l-e.startTime>300&&(e.startTime=l,e.startX=e.x,e.startY=e.y),e.options.onScrollMove&&e.options.onScrollMove.call(e,t))},_end:function(n){if(!m||0===n.touches.length){var o,s,r,a=this,l=m?n.changedTouches[0]:n,c={dist:0,time:0},u={dist:0,time:0},h=(n.timeStamp||Date.now())-a.startTime,p=a.x,d=a.y;if(a._unbind(y,t),a._unbind(x,t),a._unbind($,t),a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,n),!a.moved)return m&&this.options.handleClick&&!a.isStopScrollAction&&(a.doubleTapTimer=setTimeout(function(){for(a.doubleTapTimer=null,o=l.target;1!=o.nodeType;)o=o.parentNode;"SELECT"!=o.tagName&&"INPUT"!=o.tagName&&"TEXTAREA"!=o.tagName&&(s=e.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,n.view,1,l.screenX,l.screenY,l.clientX,l.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),s._fake=!0,o.dispatchEvent(s))},0)),a._resetPos(400),void(a.options.onTouchEnd&&a.options.onTouchEnd.call(a,n));if(300>h&&a.options.momentum&&(c=p?a._momentum(p-a.startX,h,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):c,u=d?a._momentum(d-a.startY,h,-a.y,a.maxScrollY<0?a.scrollerH-a.wrapperH+a.y-a.minScrollY:0,a.options.bounce?a.wrapperH:0):u,p=a.x+c.dist,d=a.y+u.dist,(a.x>0&&p>0||a.x<a.maxScrollX&&p<a.maxScrollX)&&(c={dist:0,time:0}),(a.y>a.minScrollY&&d>a.minScrollY||a.y<a.maxScrollY&&d<a.maxScrollY)&&(u={dist:0,time:0})),c.dist||u.dist)return r=i.max(i.max(c.time,u.time),10),a.scrollTo(i.round(p),i.round(d),r),void(a.options.onTouchEnd&&a.options.onTouchEnd.call(a,n));a._resetPos(200),a.options.onTouchEnd&&a.options.onTouchEnd.call(a,n)}},_resetPos:function(t){var e=this,n=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,i=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return n==e.x&&i==e.y?void(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e),e._afterPos&&e._afterPos())):void e.scrollTo(n,i,t||0)},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(S),e._startAni())},_startAni:function(){var t,e,n,o=this,s=o.x,r=o.y,a=Date.now();if(!o.animating){if(!o.steps.length)return void o._resetPos(400);if(t=o.steps.shift(),t.x==s&&t.y==r&&(t.time=0),o.animating=!0,o.moved=!0,o.options.useTransition)return o._transitionTime(t.time),o._pos(t.x,t.y),o.animating=!1,void(t.time?o._bind(S):o._resetPos(0));n=function(){var l,c,u=Date.now();return u>=a+t.time?(o._pos(t.x,t.y),o.animating=!1,o.options.onAnimationEnd&&o.options.onAnimationEnd.call(o),void o._startAni()):(u=(u-a)/t.time-1,e=i.sqrt(1-u*u),l=(t.x-s)*e+s,c=(t.y-r)*e+r,o._pos(l,c),void(o.animating&&(o.aniTime=T(n))))},n()}},_transitionTime:function(t){t+="ms",this.scroller.style[u]=t},_momentum:function(t,e,n,o,s){var r=6e-4,a=i.abs(t)*(this.options.speedScale||1)/e,l=a*a/(2*r),c=0,u=0;return t>0&&l>n?(u=s/(6/(l/a*r)),n+=u,a=a*n/l,l=n):0>t&&l>o&&(u=s/(6/(l/a*r)),o+=u,a=a*o/l,l=o),l*=0>t?-1:1,c=a/r,{dist:l,time:i.round(c)}},_offset:function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,n*=this.scale),{left:e,top:n}},_bind:function(t,e,n){o.concat([e||this.scroller,t,this]),(e||this.scroller).addEventListener(t,this,!!n)},_unbind:function(t,e,n){(e||this.scroller).removeEventListener(t,this,!!n)},destroy:function(){var e=this;e.scroller.style[l]="",e._unbind(w,t),e._unbind(b),e._unbind(y,t),e._unbind(x,t),e._unbind($,t),e.options.useTransition&&e._unbind(S),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e);for(var n=0,i=o.length;i>n;)o[n].removeEventListener(o[n+1],o[n+2]),o[n]=null,n+=3;o=[]},refresh:function(){var t,e=this;e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=i.round(e.scroller.offsetWidth*e.scale),e.scrollerH=i.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top,e.scroller.style[u]="0",e._resetPos(400)},scrollTo:function(t,e,n,i){var o,s,r=this,a=t;for(r.stop(),a.length||(a=[{x:t,y:e,time:n,relative:i}]),o=0,s=a.length;s>o;o++)a[o].relative&&(a[o].x=r.x-a[o].x,a[o].y=r.y-a[o].y),r.steps.push({x:a[o].x,y:a[o].y,time:a[o].time||0});r._startAni()},scrollToElement:function(t,e){var n,o=this;t=t.nodeType?t:o.scroller.querySelector(t),t&&(n=o._offset(t),n.left+=o.wrapperOffsetLeft,n.top+=o.wrapperOffsetTop,n.left=n.left>0?0:n.left<o.maxScrollX?o.maxScrollX:n.left,n.top=n.top>o.minScrollY?o.minScrollY:n.top<o.maxScrollY?o.maxScrollY:n.top,e=void 0===e?i.max(2*i.abs(n.left),2*i.abs(n.top)):e,o.scrollTo(n.left,n.top,e))},scrollToPage:function(t,e,n){var i,o,s=this;n=void 0===n?400:n,s.options.onScrollStart&&s.options.onScrollStart.call(s),i=-s.wrapperW*t,o=-s.wrapperH*e,i<s.maxScrollX&&(i=s.maxScrollX),o<s.maxScrollY&&(o=s.maxScrollY),s.scrollTo(i,o,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(y,t),this._unbind(x,t),this._unbind($,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(S):k(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},isReady:function(){return!this.moved&&!this.animating}},s=null,"undefined"!=typeof exports?exports.iScroll=C:t.iScroll=C,function(t,e,n){if(t){var i,o=e.iScroll,s=[].slice,r=function(){var t={},e=0,i="_sid";return function(o,s){var r=o[i]||(o[i]=++e);return s!==n&&(t[r]=s),null===s&&delete t[r],t[r]}}();e.iScroll=i=function(t,e){var n=([].slice.call(arguments,0),new o(t,e));return r(t,n),n},i.prototype=o.prototype,t.fn.iScroll=function(e){var o,a,l=s.call(arguments,1),c="string"==typeof e&&e;return t.each(this,function(s,u){if(a=r(u)||i(u,t.isPlainObject(e)?e:n),"this"===c)return o=a,!1;if(c){if(!t.isFunction(a[c]))throw new Error("iScroll没有此方法："+c);if(o=a[c].apply(a,l),o!==n&&o!==a)return!1;o=n}}),o!==n?o:this}}}(t.Zepto||null,t)}(window,document),function(t,e){t.Navigator.options.iScroll={hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1},t.Navigator.register("scrollable",{_init:function(){var t=this,n=t._options;t.on("done.dom",function(){t.$list.wrap('<div class="ui-scroller"></div>'),t.trigger("init.iScroll"),t.$el.iScroll(e.extend({},n.iScroll))}),e(window).on("ortchange"+t.eventNs,e.proxy(t.refresh,t)),t.on("destroy",function(){t.$el.iScroll("destroy"),e(window).off("ortchange"+t.eventNs)})},refresh:function(){this.trigger("refresh.iScroll").$el.iScroll("refresh")}})}(gmu,gmu.$),function(t,e){t.Navigator.options.visibleCount=4,t.Navigator.option("visibleCount","*",function(){function t(){var t=window.innerWidth>window.innerHeight?"landscape":"portrait",e=o[t],i=n.$el;n.$list.children().width(i.width()/e),n.$list.width(i.width()/e*n.$list.children().length)}var n=this,i=n._options,o="number"===e.type(i.visibleCount)?{portrait:i.visibleCount,landscape:Math.floor(3*i.visibleCount/2)}:i.visibleCount;n.on("init.iScroll refresh.iScroll",t)})}(gmu,gmu.$),function(t,e,n){t.Navigator.options.isScrollToNext=!0,t.Navigator.option("isScrollToNext",!0,function(){var t,i=this;i.on("select",function(o,s,r){t===n&&(t=i.index?0:1);var a,l=s>t,c=e(r)[l?"next":"prev"](),u=c.offset()||e(r).offset(),h=i.$el.offset();(l?u.left+u.width>h.left+h.width:u.left<h.left)&&(a=i.$list.offset(),i.$el.iScroll("scrollTo",l?h.width-u.left+a.left-u.width:a.left-u.left,0,400)),t=s})})}(gmu,gmu.$),function(t,e){var n=e.fx.cssPrefix,i=e.fx.transitionEnd;t.define("Panel",{options:{contentWrap:"",scrollMode:"follow",display:"push",position:"right",dismissible:!0,swipeClose:!0},_init:function(){var t=this,n=t._options;t.on("ready",function(){t.displayFn=t._setDisplay(),t.$contentWrap.addClass("ui-panel-animate"),t.$el.on(i,e.proxy(t._eventHandler,t)).hide(),n.dismissible&&t.$panelMask.hide().on("click",e.proxy(t._eventHandler,t)),"follow"!==n.scrollMode&&e(window).on("scrollStop",e.proxy(t._eventHandler,t)),e(window).on("ortchange",e.proxy(t._eventHandler,t))})},_create:function(){if(!this._options.setup)throw new Error("panel组件不支持create模式，请使用setup模式");var t=this,n=t._options,i=t.$el.addClass("ui-panel ui-panel-"+n.position);t.panelWidth=i.width()||0,t.$contentWrap=e(n.contentWrap||i.next()),n.dismissible&&(t.$panelMask=e('<div class="ui-panel-dismiss"></div>').width(document.body.clientWidth-i.width()).appendTo("body")||null)},_setDisplay:function(){var t,i,o=this,s=o.$el,r=o.$contentWrap,a=n+"transform",l=o._transDisplayToPos(),c={};return e.each(["push","overlay","reveal"],function(e,n){c[n]=function(e,c,u){return t=l[n].panel,i=l[n].cont,s.css(a,"translate3d("+o._transDirectionToPos(c,t[e])+"px,0,0)"),u||(r.css(a,"translate3d("+o._transDirectionToPos(c,i[e])+"px,0,0)"),o.maskTimer=setTimeout(function(){o.$panelMask&&o.$panelMask.css(c,s.width()).toggle(e)},400)),o}}),c},_initPanelPos:function(t,e){return this.displayFn[t](0,e,!0),this.$el.get(0).clientLeft,this},_transDirectionToPos:function(t,e){return"left"===t?e:-e},_transDisplayToPos:function(){var t=this,e=t.panelWidth;return{push:{panel:[-e,0],cont:[0,e]},overlay:{panel:[-e,0],cont:[0,0]},reveal:{panel:[0,0],cont:[0,e]}}},_setShow:function(t,n,i){var o=this,s=o._options,r=t?"open":"close",a=e.Event("before"+r),l=t!==o.state(),c=t?"on":"off",u=t?e.proxy(o._eventHandler,o):o._eventHandler,h=n||s.display,p=i||s.position;return o.trigger(a,[n,i]),a.isDefaultPrevented()?o:(l&&(o._dealState(t,h,p),o.displayFn[h](o.isOpen=Number(t),p),s.swipeClose&&o.$el[c](e.camelCase("swipe-"+p),u),s.display=h,s.position=p),o)},_dealState:function(t,n,o){var s=this,r=s._options,a=s.$el,l=s.$contentWrap,c="ui-panel-"+n+" ui-panel-"+o,u="ui-panel-"+r.display+" ui-panel-"+r.position+" ui-panel-animate";return t&&(a.removeClass(u).addClass(c).show(),"fix"===r.scrollMode&&a.css("top",e(window).scrollTop()),s._initPanelPos(n,o),"reveal"===n?l.addClass("ui-panel-contentWrap").on(i,e.proxy(s._eventHandler,s)):(l.removeClass("ui-panel-contentWrap").off(i,e.proxy(s._eventHandler,s)),a.addClass("ui-panel-animate")),s.$panelMask&&s.$panelMask.css({left:"auto",right:"auto",height:document.body.clientHeight})),s},_eventHandler:function(t){var n=this,o=n._options,s=o.scrollMode,r=n.state()?"open":"close";switch(t.type){case"click":case"swipeLeft":case"swipeRight":n.close();break;case"scrollStop":"fix"===s?n.$el.css("top",e(window).scrollTop()):n.close();break;case i:n.trigger(r,[o.display,o.position]);break;case"ortchange":n.$panelMask&&n.$panelMask.css("height",document.body.clientHeight),"fix"===s&&n.$el.css("top",e(window).scrollTop())}},open:function(t,e){return this._setShow(!0,t,e)},close:function(){return this._setShow(!1)},toggle:function(t,e){return this[this.isOpen?"close":"open"](t,e)},state:function(){return!!this.isOpen},destroy:function(){return this.$panelMask&&this.$panelMask.off().remove(),this.maskTimer&&clearTimeout(this.maskTimer),this.$contentWrap.removeClass("ui-panel-animate"),e(window).off("scrollStop",this._eventHandler),e(window).off("ortchange",this._eventHandler),this.$super("destroy")}})}(gmu,gmu.$),function(t){var e=t.Popover;e.template.arrow='<span class="ui-arrow"></span>',e.options.arrow=!0,e.option("arrow",!0,function(){var t=this,e=t._options;e.offset=e.offset||function(t,e){return e=e.split("_")[0],{left:15*("left"===e?-1:"right"===e?1:0),top:15*("top"===e?-1:"bottom"===e?1:0)}},t.on("done.dom",function(e,n){n.append(t.tpl2html("arrow")).addClass("ui-pos-default")}),t.on("after.placement",function(t,e,n){var i=this.$root[0],o=i.className,s=n.placement,r=n.align||"";i.className=o.replace(/(?:\s|^)ui-pos-[^\s$]+/g,"")+" ui-pos-"+s+(r?"-"+r:"")})})}(gmu),function(t,e){t.Popover.options.collision=!0,t.Popover.option("collision",!0,function(){function t(t){var n=e(t);return t=n[0],t!==window&&9!==t.nodeType?n.offset():{width:n.width(),height:n.height(),top:t.pageYOffset||t.scrollTop||0,left:t.pageXOffset||t.scrollLeft||0}}function n(t,e,n,i){return t.left>=i.left&&t.left+e<=i.left+i.width&&t.top>=i.top&&t.top+n<=i.top+i.height}var i=this,o=i._options;i.on("before.placement",function(i,s,r,a){var l=t(o.within||window),c=r.placement,u=r.coord,h=Object.keys(a),p=h.indexOf(c)+1,d=h.splice(p,h.length-p);for(h=d.concat(h);h.length&&!n(s,u.width,u.height,l);)c=h.shift(),e.extend(s,a[c]());r.preset=c})})}(gmu,gmu.$),function(t,e){var n=t.Popover;n.options.dismissible=!0,n.option("dismissible",!0,function(){function t(t){for(var i=n.$target.add(n.$root).get(),o=i.length;o--;)if(i[o]===t||e.contains(i[o],t))return!0;return!1}var n=this,i=e(document),o="click"+n.eventNs;n.on("show",function(){i.off(o).on(o,function(e){t(e.target)||n.hide()})}),n.on("hide",function(){i.off(o)})})}(gmu,gmu.$),function(t,e){e.extend(t.Popover.options,{placement:"bottom",offset:null}),t.Popover.option("placement",function(t){return~["top","bottom","left","right"].indexOf(t)},function(){function t(t,e){return"right"===t||"bottom"===t?e:"center"===t?e/2:0}function n(e,n,o,s,r){var a=i.of,l=i.coord,c=i.offset,u=a.top,h=a.left;return h+=t(n,a.width)-t(s,l.width),u+=t(o,a.height)-t(r,l.height),c="function"==typeof c?c.call(null,{left:h,top:u},e):c||{},{left:h+(c.left||0),top:u+(c.top||0)}}var i,o=this,s={top:"center top center bottom",right:"right center left center",bottom:"center bottom center top",left:"left center right center"},r={};e.each(s,function(t,e){e=e.split(/\s/g),e.unshift(t),r[t]=function(){return n.apply(null,e)}}),this.on("placement",function(t,e,n){var o,s=this,a=s._options,l=a.placement;i={coord:e.offset(),of:n.offset(),placement:l,$el:e,$of:n,offset:a.offset},o=r[l](),s.trigger("before.placement",o,i,r),i.preset&&(i.placement=i.preset),e.offset(o),s.trigger("after.placement",o,i)}),e(window).on("ortchange",function(){o._visible&&o.trigger("placement",o.$target,o.$root)})})}(gmu,gmu.$),function(t,e,n){t.define("Progressbar",{options:{initValue:0,horizontal:!0,transitionDuration:300,_isShow:!0,_current:0,_percent:0},_init:function(){var t,n,i,o,s,r=this;r.on("ready",function(){t=r.$el,n=e.proxy(r._eventHandler,r),i=t.find(".ui-progressbar-button"),o=t.find(".ui-progressbar-bg"),s=t.offset(),i.on("touchstart touchmove touchend touchcancel",n),o.on("touchstart",n),e.extend(r._options,{_button:i[0],$_background:o,_filled:t.find(".ui-progressbar-filled")[0],_width:s.width,_height:s.height}),r._options.horizontal&&s.width&&t.width(s.width),r._options.initValue>0&&r.value(r._options.initValue)}),r.on("destroy",function(){r._options.setup||r.$el.remove()})},_create:function(){var t=this,n=t._options.horizontal?"h":"v";t.$el||(t.$el=e("<div></div>")),t.$el.addClass("ui-progressbar-"+n).appendTo(t._options.container||(t.$el.parent().length?"":document.body)).html('<div class="ui-progressbar-bg"><div class="ui-progressbar-filled"></div><div class="ui-progressbar-button"><div><b></b></div></div></div>')},_eventHandler:function(t){var n=this;switch(t.type){case"touchmove":n._touchMove(t);break;case"touchstart":e(t.target).hasClass("ui-progressbar-bg")?n._click(t):n._touchStart(t);break;case"touchcancel":case"touchend":n._touchEnd();break;case"tap":n._click(t)}},_touchStart:function(t){var n=this,i=n._options;e.extend(n._options,{pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,S:!1,T:!1,X:0,Y:0}),i._button.style.webkitTransitionDuration="0ms",i._filled.style.webkitTransitionDuration="0ms",e(i._button).addClass("ui-progressbar-button-pressed"),n.trigger("dragStart")},_touchMove:function(t){var e,n=this,i=n._options,o=t.touches[0],s=o.pageX-i.pageX,r=o.pageY-i.pageY;if(!i.T){var a=Math.abs(s)<Math.abs(o.pageY-i.pageY);i.T=!0,i.S=a}i.horizontal?i.S||(t.stopPropagation(),t.preventDefault(),e=(s+i._current)/i._width*100,100>=e&&e>=0&&(i._percent=e,i.X=s,i._button.style.webkitTransform="translate3d("+(i.X+i._current)+"px,0,0)",i._filled.style.width=e+"%",n.trigger("valueChange")),n.trigger("dragMove")):i.S&&(t.stopPropagation(),t.preventDefault(),e=-(i._current+r)/i._height*100,100>=e&&e>=0&&(i._percent=e,i.Y=r,i._button.style.webkitTransform="translate3d(0,"+(r+i._current)+"px,0)",i._filled.style.cssText+="height:"+e+"%;top:"+(i._height+r+i._current)+"px",n.trigger("valueChange")),n.trigger("dragMove"))},_touchEnd:function(){var t=this,n=t._options;n._current+=n.horizontal?n.X:n.Y,e(n._button).removeClass("ui-progressbar-button-pressed"),t.trigger("dragEnd")},_click:function(t){var e=this,n=e._options,i=n.$_background.offset(),o=t.touches[0];e.value(n.horizontal?(o.pageX-i.left)/n._width*100:(n._height-o.pageY+i.top)/n._height*100)},value:function(t){var e,i,o=this,s=o._options;return t===n?s._percent:(t=parseFloat(t),isNaN(t)?o:(t=t>100?100:0>t?0:t,s._percent=t,i=";-webkit-transition-duration:"+s.transitionDuration+"ms",s.horizontal?(e=s._current=s._width*t/100,s._button.style.cssText+="-webkit-transform:translate3d("+e+"px,0,0)"+i,s._filled.style.cssText+="width:"+t+"%"+i):(e=s._current=s._height*t/-100,s._button.style.cssText+="-webkit-transform:translate3d(0,"+e+"px,0)"+i,s._filled.style.cssText+="height:"+t+"%;top:"+(s._height+e)+"px"+i),o.trigger("valueChange"),o))},show:function(){var t=this;return t._options._isShow||(t.$el.css("display","block"),t._options._isShow=!0),t},hide:function(){var t=this;return t._options._isShow&&(t.$el.css("display","none"),t._options._isShow=!1),t}})}(gmu,gmu.$),function(t,e,n){t.define("Refresh",{options:{btnText:"加载更多",load:null,statechange:null},_init:function(){var t=this,n=t._options;
t.on("ready",function(){e.each(["up","down"],function(e,i){{var o=n["$"+i+"Elem"];o.get(0)}o.length&&(t._status(i,!0),o.find(".ui-refresh-icon").length&&o.find(".ui-refresh-label").length||t._createBtn(i),n.refreshInfo=n.refreshInfo||{},n.refreshInfo[i]={$icon:o.find(".ui-refresh-icon"),$label:o.find(".ui-refresh-label"),text:o.find(".ui-refresh-label").html()},o.on("click",function(){t._status(i)&&!n._actDir&&(t._setStyle(i,"loading"),t._loadingAction(i,"click"))}))})}),t.on("destroy",function(){t.$el.remove()})},_create:function(){var t=this,e=t._options,n=t.$el;t._options.setup&&(e.$upElem=n.find(".ui-refresh-up"),e.$downElem=n.find(".ui-refresh-down"),n.addClass("ui-refresh"))},_createBtn:function(t){var n=this._options,i=n["$"+t+"Elem"],o=e.trim(i.text())||n.btnText;return i.html('<i class="ui-refresh-icon"></i><span class="ui-refresh-label">'+o+"</span>"),n.btnClass&&i.addClass(n.btnClass),this},_setStyle:function(t,n){var i=this,o=e.Event("statechange");return i.trigger(o,i._options["$"+t+"Elem"],n,t),o.defaultPrevented?i:i._changeStyle(t,n)},_changeStyle:function(t,e){var n=this._options,i=n.refreshInfo[t];switch(e){case"loaded":this._options["$"+t+"Elem"].removeClass("loading"),i.$label.html(i.text),i.$icon.removeClass(),n._actDir="";break;case"loading":this._options["$"+t+"Elem"].addClass("loading"),i.$label.html("加载中..."),i.$icon.addClass("ui-loading"),n._actDir=t;break;case"disable":i.$label.html("没有更多内容了")}return this},_loadingAction:function(t,n){var i=this,o=i._options,s=o.load;return e.isFunction(s)&&s.call(i,t,n),i._status(t,!1),i},afterDataLoading:function(t){var e=this,t=t||e._options._actDir;return e._setStyle(t,"loaded"),e._status(t,!0),e},_status:function(t,e){var i=this._options;return e===n?i["_"+t+"Open"]:i["_"+t+"Open"]=!!e},_setable:function(t,n,i){var o=this,s=o._options,r=n?[n]:["up","down"];return e.each(r,function(e,n){var r=s["$"+n+"Elem"];r.length&&(t?r.show():i?r.hide():o._setStyle(n,"disable"),o._status(n,t))}),o},disable:function(t,e){return this._setable(!1,t,e)},enable:function(t){return this._setable(!0,t)}})}(gmu,gmu.$),function(t,e){var n=e.fx.cssPrefix,i=e.fx.transitionEnd,o=" translateZ(0)";t.define("Slider",{options:{loop:!1,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var t=this,n=t.getEl(),o=t._options;t.index=o.index,t._initDom(n,o),t._initWidth(n,t.index),t._container.on(i+t.eventNs,e.proxy(t._tansitionEnd,t)),e(window).on("ortchange"+t.eventNs,function(){t._initWidth(n,t.index)})},_initDom:function(t,n){var i,o,s=n.selector,r=n.viewNum||1;for(o=t.find(s.container),o.length||(o=e("<div></div>"),n.content?this._createItems(o,n.content):t.is("ul")||t.is("ol")?(this.$el=o.insertAfter(t),o=t,t=this.$el):o.append(t.children()),o.appendTo(t)),(i=o.children()).length<r+1&&(n.loop=!1);n.loop&&o.children().length<3*r;)o.append(i.clone());this.length=o.children().length,this._items=(this._container=o).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray(),this.trigger("done.dom",t.addClass("ui-slider"),n)},_createItems:function(t,e){for(var n=0,i=e.length;i>n;n++)t.append(this.tpl2html("item",e[n]))},_initWidth:function(t,e,n){var i,o=this;t.hasClass("ui-slider")||(t=t.parent()),(n||(i=t.width())!==o.width)&&(o.width=i,o._arrange(i,e),o.height=t.height(),o.trigger("width.change"))},_arrange:function(t,e){var n,i,o=this._items,s=0;for(this._slidePos=new Array(o.length),i=o.length;i>s;s++)n=o[s],n.style.cssText+="width:"+t+"px;left:"+s*-t+"px;",n.setAttribute("data-index",s),this._move(s,e>s?-t:s>e?t:0,0);this._container.css("width",t*i)},_move:function(t,e,n,i){var o=this._slidePos,s=this._items;o[t]!==e&&s[t]&&(this._translate(t,e,n),o[t]=e,i&&s[t].clientLeft)},_translate:function(t,e,i){var s=this._items[t],r=s&&s.style;return r?void(r.cssText+=n+"transition-duration:"+i+"ms;"+n+"transform: translate("+e+"px, 0)"+o+";"):!1},_circle:function(t,e){var n;return e=e||this._items,n=e.length,(t%n+n)%e.length},_tansitionEnd:function(t){~~t.target.getAttribute("data-index")===this.index&&this.trigger("slideend",this.index)},_slide:function(t,e,n,i,o,s){var r,a=this;return r=a._circle(t-n*e),s.loop||(n=Math.abs(t-r)/(t-r)),this._move(r,-n*i,0,!0),this._move(t,i*n,o),this._move(r,0,o),this.index=r,this.trigger("slide",r,t)},slideTo:function(t,e){if(this.index===t||this.index===this._circle(t))return this;var n=this._options,i=this.index,o=Math.abs(i-t),s=o/(i-t),r=this.width;return e=e||n.speed,this._slide(i,o,s,r,e,n)},prev:function(){return(this._options.loop||this.index>0)&&this.slideTo(this.index-1),this},next:function(){return(this._options.loop||this.index+1<this.length)&&this.slideTo(this.index+1),this},getIndex:function(){return this.index},destroy:function(){return this._container.off(this.eventNs),e(window).off("ortchange"+this.eventNs),this.$super("destroy")}})}(gmu,gmu.$),function(t,e){e.extend(!0,t.Slider,{options:{autoPlay:!0,interval:4e3}}),t.Slider.register("autoplay",{_init:function(){var t=this;t.on("slideend ready",t.resume).on("destory",t.stop),t.getEl().on("touchstart"+t.eventNs,e.proxy(t.stop,t)).on("touchend"+t.eventNs,e.proxy(t.resume,t))},resume:function(){var t=this,e=t._options;return e.autoPlay&&!t._timer&&(t._timer=setTimeout(function(){t.slideTo(t.index+1),t._timer=null},e.interval)),t},stop:function(){var t=this;return t._timer&&(clearTimeout(t._timer),t._timer=null),t}})}(gmu,gmu.$),function(t){t.Slider.template.item='<div class="ui-slider-item"><a href="<%= href %>"><img lazyload="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>',t.Slider.register("lazyloadimg",{_init:function(){this.on("ready slide",this._loadItems)},_loadItems:function(){var t,e,n=this._options,i=n.loop,o=n.viewNum||1,s=this.index;for(t=s-o,e=s+2*o;e>t;t++)this.loadImage(i?this._circle(t):t)},loadImage:function(e){var n,i=this._items[e];return i&&(n=t.staticCall(i,"find","img[lazyload]"),n.length)?void n.each(function(){this.src=this.getAttribute("lazyload"),this.removeAttribute("lazyload")}):this}})}(gmu),function(t,e,n){var i,o,s,r,a={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"};e.extend(t.Slider.options,{stopPropagation:!1,disableScroll:!1}),t.Slider.register("touch",{_init:function(){var t=this,e=t.getEl();t._handler=function(e){return t._options.stopPropagation&&e.stopPropagation(),a[e.type]&&t[a[e.type]].call(t,e)},t.on("ready",function(){e.on("touchstart"+t.eventNs,t._handler),t._container.on("click"+t.eventNs,t._handler)})},_onClick:function(){return!r},_onStart:function(t){if(t.touches.length>1)return!1;var e,a=this,l=t.touches[0],c=a._options,u=a.eventNs;o={x:l.pageX,y:l.pageY,time:+new Date},s={},r=!1,i=n,e=c.viewNum||1,a._move(c.loop?a._circle(a.index-e):a.index-e,-a.width,0,!0),a._move(c.loop?a._circle(a.index+e):a.index+e,a.width,0,!0),a.$el.on("touchmove"+u+" touchend"+u+" touchcancel"+u,a._handler)},_onMove:function(t){if(t.touches.length>1||t.scale&&1!==t.scale)return!1;var e,n,a,l,c=this._options,u=c.viewNum||1,h=t.touches[0],p=this.index;if(c.disableScroll&&t.preventDefault(),s.x=h.pageX-o.x,s.y=h.pageY-o.y,"undefined"==typeof i&&(i=Math.abs(s.x)<Math.abs(s.y)),!i){for(t.preventDefault(),c.loop||(s.x/=!p&&s.x>0||p===this._items.length-1&&s.x<0?Math.abs(s.x)/this.width+1:1),l=this._slidePos,e=p-u,n=p+2*u;n>e;e++)a=c.loop?this._circle(e):e,this._translate(a,s.x+l[a],0);r=!0}},_onEnd:function(){if(this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler),r){var t,e,n,i,a,l=this,c=l._options,u=c.viewNum||1,h=l.index,p=l._slidePos,d=+new Date-o.time,f=Math.abs(s.x),g=!c.loop&&(!h&&s.x>0||h===p.length-u&&s.x<0),m=s.x>0?1:-1;if(250>d?(t=f/d,e=Math.min(Math.round(t*u*1.2),u)):e=Math.round(f/(l.perWidth||l.width)),e&&!g)l._slide(h,e,m,l.width,c.speed,c,!0),u>1&&d>=250&&Math.ceil(f/l.perWidth)!==e&&(l.index<h?l._move(l.index-1,-l.perWidth,c.speed):l._move(l.index+u,l.width,c.speed));else for(n=h-u,i=h+2*u;i>n;n++)a=c.loop?l._circle(n):n,l._translate(a,p[a],c.speed)}}})}(gmu,gmu.$),function(t,e){e.extend(!0,t.Slider,{template:{prev:'<span class="ui-slider-pre"></span>',next:'<span class="ui-slider-next"></span>'},options:{arrow:!0,select:{prev:".ui-slider-pre",next:".ui-slider-next"}}}),t.Slider.option("arrow",!0,function(){var t=this,n=["prev","next"];this.on("done.dom",function(i,o,s){var r=s.selector;n.forEach(function(n){var i=o.find(r[n]);i.length||o.append(i=e(t.tpl2html(n))),t["_"+n]=i})}),this.on("ready",function(){n.forEach(function(e){t["_"+e].on("tap"+t.eventNs,function(){t[e].call(t)})})}),this.on("destroy",function(){t._prev.off(t.eventNs),t._next.off(t.eventNs)})})}(gmu,gmu.$),function(t,e){e.extend(!0,t.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:!0,selector:{dots:".ui-slider-dots"}}}),t.Slider.option("dots",!0,function(){var n=function(e,n){var i=this._dots;"undefined"==typeof n||t.staticCall(i[n%this.length],"removeClass","ui-state-active"),t.staticCall(i[e%this.length],"addClass","ui-state-active")};this.on("done.dom",function(t,n,i){var o=n.find(i.selector.dots);o.length||(o=this.tpl2html("dots",{len:this.length}),o=e(o).appendTo(n)),this._dots=o.children().toArray()}),this.on("slide",function(t,e,i){n.call(this,e,i)}),this.on("ready",function(){n.call(this,this.index)})})}(gmu,gmu.$),function(t){t.Slider.options.imgZoom=!0,t.Slider.option("imgZoom",function(){return!!this._options.imgZoom},function(){function t(){i&&i.off("load"+o.eventNs,n)}function e(){t(),i=o._container.find(s).on("load"+o.eventNs,n)}function n(t){var e=t.target||this,n=Math.min(1,o.width/e.naturalWidth,o.height/e.naturalHeight);e.style.width=n*e.naturalWidth+"px"}var i,o=this,s=o._options.imgZoom;s="string"==typeof s?s:"img",o.on("ready dom.change",e),o.on("width.change",function(){i&&i.each(n)}),o.on("destroy",t)})}(gmu),function(t,e){var n=0;gmu.define("Suggestion",{options:{historyShare:!0,confirmClearHistory:!0,autoClose:!1},template:{wrapper:'<div class="ui-suggestion"><div class="ui-suggestion-content"></div><div class="ui-suggestion-button"><span class="ui-suggestion-clear">清除历史记录</span><span class="ui-suggestion-close">关闭</span></div></div>'},_initDom:function(){var e=this,i=e.getEl().attr("autocomplete","off"),o=i.parent(".ui-suggestion-mask");return o.length?e.$mask=o:i.wrap(e.$mask=t('<div class="ui-suggestion-mask"></div>')),e.$mask.append(e.tpl2html("wrapper")),e.$wrapper=e.$mask.find(".ui-suggestion").prop("id","ui-suggestion-"+n++),e.$content=e.$wrapper.css("top",i.height()+(e.wrapperTop=parseInt(e.$wrapper.css("top"),10)||0)).find(".ui-suggestion-content"),e.$btn=e.$wrapper.find(".ui-suggestion-button"),e.$clearBtn=e.$btn.find(".ui-suggestion-clear"),e.$closeBtn=e.$btn.find(".ui-suggestion-close"),e.trigger("initdom")},_bindEvent:function(){var e=this,n=e.getEl(),i=e.eventNs;return e._options.autoClose&&t(document).on("tap"+i,function(n){!t.contains(e.$mask.get(0),n.target)&&e.hide()}),n.on("focus"+i,function(){!e.isShow&&e._showList().trigger("open")}),n.on("input"+i,function(){e._showList()}),e.$clearBtn.on("click"+i,function(){e.history(null)}).highlight("ui-suggestion-highlight"),e.$closeBtn.on("click"+i,function(){e.getEl().blur(),e.hide().trigger("close")}).highlight("ui-suggestion-highlight"),e},_create:function(){var e=this,i=e._options,o=i.historyShare;return i.container&&(e.$el=t(i.container)),e.key=o?("boolean"===t.type(o)?"":o+"-")+"SUG-Sharing-History":e.getEl().attr("id")||"ui-suggestion-"+n++,e.separator=encodeURIComponent(","),e._initDom()._bindEvent(),e},_showList:function(){var e,n=this,i=n.value();return i?n.trigger("sendrequest",i,t.proxy(n._render,n),t.proxy(n._cacheData,n)):(e=n._localStorage())?n._render(i,e.split(n.separator)):n.hide(),n},_render:function(e,n){this.trigger("renderlist",n,e,t.proxy(this._fillWrapper,this))},_fillWrapper:function(t){return this.$clearBtn[this.value()?"hide":"show"](),t?(this.$content.html(t),this.show()):this.hide(),this},_localStorage:function(n){var i,o,s=this,r=s.key,a=s.separator;try{if(i=e.localStorage,void 0===n)return i[r];null===n?i[r]="":n&&(o=i[r]?i[r].split(a):[],~t.inArray(n,o)||(o.unshift(n),i[r]=o.join(a)))}catch(l){console.log(l.message)}return s},_cacheData:function(t,e){return this.cacheData||(this.cacheData={}),void 0!==e?this.cacheData[t]=e:this.cacheData[t]},value:function(){return this.getEl().val()},history:function(t){var n=this,i=null!==t||function(){return n._localStorage(null).hide()};return null===t?n._options.confirmClearHistory?e.confirm("清除全部查询历史记录？")&&i():i():n._localStorage(t)},show:function(){return this.isShow?this:(this.$wrapper.show(),this.isShow=!0,this.trigger("show"))},hide:function(){return this.isShow?(this.$wrapper.hide(),this.isShow=!1,this.trigger("hide")):this},destroy:function(){var e=this,n=e.getEl(),i=e.ns;return e.trigger("destroy"),n.off(i),e.$mask.replaceWith(n),e.$clearBtn.off(i),e.$closeBtn.off(i),e.$wrapper.children().off().remove(),e.$wrapper.remove(),e._options.autoClose&&t(document).off(i),this.destroyed=!0,e}})}(gmu.$,window),function(t,e){t.Suggestion.register("iscroll",{_init:function(){var t=this;return t.on("ready",function(){t.$scroller=e('<div class="ui-suggestion-scroller"></div>'),t.$content.wrapInner(t.$scroller).iScroll({hScroll:!1,onRefresh:function(){this.y&&this.scrollTo(0,0)}}),t.on("destroy",function(){t.$content.iScroll("destroy")})}),t},_fillWrapper:function(t){return this.$clearBtn[this.value()?"hide":"show"](),t?(this.show().$scroller.html(t),this.$content.iScroll("refresh")):this.hide(),this}})}(gmu,gmu.$),function(t,e){var n=Array.prototype.reverse;gmu.Suggestion.options.listSelector="li",gmu.Suggestion.register("posadapt",{_init:function(){var t,e=this;e.on("show ortchange",function(){e._checkPos()&&(e.$wrapper.css("top",-e.$wrapper.height()-e.wrapperTop),n.call(t=e.$content.find(e._options.listSelector)),t.appendTo(t.parent()),e.$btn.prependTo(e.$wrapper))})},_checkPos:function(){var n=this._options.height||66,i=this.getEl().offset().top-e.pageYOffset;return t(e).height()-i<n&&i>=n}})}(gmu.$,window),function(t,e){t.Suggestion.register("quickdelete",{_init:function(){var t,n,i=this;i.on("ready",function(){t=i.getEl(),n=i.eventNs,i.$mask.append(i.$quickDel=e('<div class="ui-suggestion-quickdel"></div>')),t.on("focus"+n+" input"+n,function(){i["_quickDel"+(e.trim(t.val())?"Show":"Hide")]()}),t.on("blur"+n,function(){i._quickDelHide()}),i.$quickDel.on("touchstart"+n,function(e){e.preventDefault(),e.formDelete=!0,t.val(""),i.trigger("delete").trigger("input")._quickDelHide(),t.blur().focus()}),i.on("destroy",function(){i.$quickDel.off().remove()})})},_quickDelShow:function(){this.quickDelShow||(t.staticCall(this.$quickDel.get(0),"css","visibility","visible"),this.quickDelShow=!0)},_quickDelHide:function(){this.quickDelShow&&(t.staticCall(this.$quickDel.get(0),"css","visibility","hidden"),this.quickDelShow=!1)}})}(gmu,gmu.$),function(t,e){gmu.Suggestion.options.compatdata=!0,gmu.Suggestion.option("compatdata",!0,function(){this.on("ready",function(){var t,n,i=this.key,o="SUG-History-DATATRANS";try{t=e.localStorage[i],t&&!e.localStorage[o]&&(e.localStorage[o]="",n=t.split(","),e.localStorage[i]=n.join(this.separator))}catch(s){console.log(s.message)}})})}(gmu.$,window),function(t){t.extend(gmu.Suggestion.options,{isHistory:!0,usePlus:!1,listCount:5,renderlist:null}),gmu.Suggestion.option("renderlist",function(){return"function"!==t.type(this._options.renderlist)},function(){var e=this,n=t("<div></div>"),i=function(t){return n.text(t).html()},o=function(n,o){var s,r,a,l=e._options,c=[],u="";if(!o||!o.length)return e.hide(),c;for(o=o.slice(0,l.listCount),n=i(n||""),a=0,r=o.length;r>a;a++)u=i(s=o[a]),n&&(u=t.trim(s).replace(n,"<span>"+n+"</span>")),l.usePlus&&(u+='<div class="ui-suggestion-plus" data-item="'+s+'"></div>'),c.push("<li>"+u+"</li>");return c};e.on("ready",function(){var e=this,n=e.eventNs,i=t(e._options.form||e.getEl().closest("form"));i.size()&&(e.$form=i.on("submit"+n,function(t){var n=gmu.Event("submit");e._options.isHistory&&e._localStorage(e.value()),e.trigger(n),n.isDefaultPrevented()&&t.preventDefault()})),e.$content.on("touchstart"+n,function(t){t.preventDefault()}),e.$content.on("tap"+n,function(n){var i=e.getEl(),o=t(n.target);o.hasClass("ui-suggestion-plus")?i.val(o.attr("data-item")):t.contains(e.$content.get(0),o.get(0))&&setTimeout(function(){i.val(o.text()),e.trigger("select",o).hide().$form.submit()},400)}).highlight("ui-suggestion-highlight"),e.on("destroy",function(){i.size()&&i.off(n),e.$content.off()})}),e.on("renderlist",function(t,e,n,i){var s=o(n,e);return i(s.length?"<ul>"+s.join(" ")+"</ul>":"")})})}(gmu.$),function(t,e){t.extend(gmu.Suggestion.options,{isCache:!0,queryKey:"wd",cbKey:"cb",sendrequest:null}),gmu.Suggestion.option("sendrequest",function(){return"function"!==t.type(this._options.sendrequest)},function(){var n,i=this,o=i._options,s=o.queryKey,r=o.cbKey,a=o.param,l=o.isCache;this.on("sendrequest",function(c,u,h,p){var d=o.source,f="suggestion_"+ +new Date;return l&&(n=p(u))?(h(u,n),i):(d=(d+"&"+s+"="+encodeURIComponent(u)).replace(/[&?]{1,2}/,"?"),!~d.indexOf("&"+r)&&(d+="&"+r+"="+f),a&&(d+="&"+a),e[f]=function(t){h(u,t.s),l&&p(u,t.s),delete e[f]},t.ajax({url:d,dataType:"jsonp"}),i)})})}(gmu.$,window),function(t,e,n){var i=1,o=function(){return i++},s=/^#(.+)$/;t.define("Tabs",{options:{active:0,items:null,transition:"slide"},template:{nav:'<ul class="ui-tabs-nav"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><li<% if(i==active){ %> class="ui-state-active"<% } %>><a href="javascript:;"><%=item.title%></a></li><% } %></ul>',content:'<div class="ui-viewport ui-tabs-content"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><div<% if(item.id){ %> id="<%=item.id%>"<% } %> class="ui-tabs-panel <%=transition%><% if(i==active){ %> ui-state-active<% } %>"><%=item.content%></div><% } %></div>'},_init:function(){var t,n=this,i=n._options,o=e.proxy(n._eventHandler,n);n.on("ready",function(){t=n.$el,t.addClass("ui-tabs"),i._nav.on("tap",o).children().highlight("ui-state-hover")}),e(window).on("ortchange",o)},_create:function(){var t=this,n=t._options;t._options.setup&&t.$el.children().length>0?t._prepareDom("setup",n):(n.setup=!1,t.$el=t.$el||e("<div></div>"),t._prepareDom("create",n))},_prepareDom:function(t,n){var i,r,a,l,c=this,u=c.$el;switch(t){case"setup":if(n._nav=c._findElement("ul").first(),n._nav){n._content=c._findElement("div.ui-tabs-content"),n._content=(n._content&&n._content.first()||e("<div></div>").appendTo(u)).addClass("ui-viewport ui-tabs-content"),i=[],n._nav.addClass("ui-tabs-nav").children().each(function(){var t,r,a=c._findElement("a",this),l=a?a.attr("href"):e(this).attr("data-url");t=s.test(l)?RegExp.$1:"tabs_"+o(),(r=c._findElement("#"+t)||e('<div id="'+t+'"></div>')).addClass("ui-tabs-panel"+(n.transition?" "+n.transition:"")).appendTo(n._content),i.push({id:t,href:l,title:a?a.attr("href","javascript:;").text():e(this).text(),content:r})}),n.items=i,n.active=Math.max(0,Math.min(i.length-1,n.active||e(".ui-state-active",n._nav).index()||0)),c._getPanel().add(n._nav.children().eq(n.active)).addClass("ui-state-active");break}default:i=n.items=n.items||[],r=[],a=[],n.active=Math.max(0,Math.min(i.length-1,n.active)),e.each(i,function(t,e){l="tabs_"+o(),r.push({href:e.href||"#"+l,title:e.title}),a.push({content:e.content||"",id:l}),i[t].id=l}),n._nav=e(this.tpl2html("nav",{items:r,active:n.active})).prependTo(u),n._content=e(this.tpl2html("content",{items:a,active:n.active,transition:n.transition})).appendTo(u),n.container=n.container||(u.parent().length?null:"body")}n.container&&u.appendTo(n.container),c._fitToContent(c._getPanel())},_getPanel:function(t){var i=this._options;return e("#"+i.items[t===n?i.active:t].id)},_findElement:function(t,n){var i=e(n||this.$el).find(t);return i.length?i:null},_eventHandler:function(t){var n,i=this._options;switch(t.type){case"ortchange":this.refresh();break;default:(n=e(t.target).closest("li",i._nav.get(0)))&&n.length&&(t.preventDefault(),this.switchTo(n.index()))}},_fitToContent:function(t){var e=this._options,i=e._content;return e._plus===n&&(e._plus=parseFloat(i.css("border-top-width"))+parseFloat(i.css("border-bottom-width"))),i.height(t.height()+e._plus),this},switchTo:function(n){var i,o,s,r,a,l=this,c=l._options,u=c.items;if(!c._buzy&&c.active!=(n=Math.max(0,Math.min(u.length-1,n)))){if(o=e.extend({},u[n]),o.div=l._getPanel(n),o.index=n,s=e.extend({},u[c.active]),s.div=l._getPanel(),s.index=c.active,i=t.Event("beforeActivate"),l.trigger(i,o,s),i.isDefaultPrevented())return l;c._content.children().removeClass("ui-state-active"),o.div.addClass("ui-state-active"),c._nav.children().removeClass("ui-state-active").eq(o.index).addClass("ui-state-active"),c.transition&&(c._buzy=!0,a=e.fx.animationEnd+".tabs",r=n>c.active?"":" reverse",c._content.addClass("ui-viewport-transitioning"),s.div.addClass("out"+r),o.div.addClass("in"+r).on(a,function(t){t.target==t.currentTarget&&(o.div.off(a,arguments.callee),c._buzy=!1,s.div.removeClass("out reverse"),o.div.removeClass("in reverse"),c._content.removeClass("ui-viewport-transitioning"),l.trigger("animateComplete",o,s),l._fitToContent(o.div))})),c.active=n,l.trigger("activate",o,s),c.transition||l._fitToContent(o.div)}return l},refresh:function(){return this._fitToContent(this._getPanel())},destroy:function(){var t=this._options,e=this._eventHandler;return t._nav.off("tap",e).children().highlight(),t.swipe&&t._content.off("swipeLeft swipeRight",e),t.setup||this.$el.remove(),this.$super("destroy")}})}(gmu,gmu.$),function(t){var e=/^#.+$/,n={},i={loading:'<div class="ui-loading">Loading</div>',error:'<p class="ui-load-error">内容加载失败!</p>'};gmu.Tabs.register("ajax",{_init:function(){var t,n,i,o=this._options;this.on("ready",function(){for(t=o.items,n=0,i=t.length;i>n;n++)t[n].href&&!e.test(t[n].href)&&(t[n].isAjax=!0);this.on("activate",this._onActivate),t[o.active].isAjax&&this.load(o.active)})},destroy:function(){return this.off("activate",this._onActivate),this.xhr&&this.xhr.abort(),this.origin()},_fitToContent:function(t){var e=this._options;return e._fitLock?void 0:this.origin(t)},_onActivate:function(t,e){e.isAjax&&this.load(e.index)},load:function(e,o){var s,r,a,l=this,c=l._options,u=c.items;return 0>e||e>u.length-1||!(s=u[e])||!s.isAjax||(r=l._getPanel(e)).text()&&!o&&n[e]?this:((a=l.xhr)&&setTimeout(function(){a.abort()},400),c._loadingTimer=setTimeout(function(){r.html(i.loading)},50),c._fitLock=!0,void(l.xhr=t.ajax(t.extend(c.ajax||{},{url:s.href,context:l.$el.get(0),beforeSend:function(t,e){var n=gmu.Event("beforeLoad");return l.trigger(n,t,e),n.isDefaultPrevented()?!1:void 0},success:function(t,i){var o=gmu.Event("beforeRender");clearTimeout(c._loadingTimer),l.trigger(o,t,r,e,i),o.isDefaultPrevented()||r.html(t),c._fitLock=!1,n[e]=!0,l.trigger("load",r),delete l.xhr,l._fitToContent(r)},error:function(){var t=gmu.Event("loadError");clearTimeout(c._loadingTimer),n[e]=!1,l.trigger(t,r),t.isDefaultPrevented()||r.html(i.error),delete l.xhr}}))))}})}(Zepto),function(t,e){function n(){t(document).on("touchstart.tabs",function(n){var a,l,u=n.touches?n.touches[0]:n;a={x:u.clientX,y:u.clientY,time:Date.now(),el:t(n.target)},t(document).on("touchmove.tabs",function(e){var n,i=e.touches?e.touches[0]:e;a&&(l={x:i.clientX,y:i.clientY,time:Date.now()},(n=Math.abs(a.x-l.x))>r||n>Math.abs(a.y-l.y)?c(e.target)&&e.preventDefault():t(document).off("touchmove.tabs touchend.tabs"))}).one("touchend.tabs",function(){t(document).off("touchmove.tabs"),a&&l&&l.time-a.time<i&&Math.abs(a.x-l.x)>o&&Math.abs(a.y-l.y)<s&&a.el.trigger(a.x>l.x?"tabsSwipeLeft":"tabsSwipeRight"),a=l=e})})}var i=1e3,o=30,s=70,r=30,a=[],l=!1,c=function(e){for(var n=a.length;n--;)if(t.contains(a[n],e))return!0;return!1};gmu.Tabs.register("swipe",{_init:function(){var e=this._options;this.on("ready",function(){a.push(e._content.get(0)),l=l||(n(),!0),this.$el.on("tabsSwipeLeft tabsSwipeRight",t.proxy(this._eventHandler,this))})},_eventHandler:function(t){var n,i,o=this._options;switch(t.type){case"tabsSwipeLeft":case"tabsSwipeRight":n=o.items,"tabsSwipeLeft"==t.type&&o.active<n.length-1?i=o.active+1:"tabsSwipeRight"==t.type&&o.active>0&&(i=o.active-1),i!==e&&(t.stopPropagation(),this.switchTo(i));break;default:return this.origin(t)}},destroy:function(){var e,n=this._options;return~(e=t.inArray(n._content.get(0),a))&&a.splice(e,1),this.$el.off("tabsSwipeLeft tabsSwipeRight",this._eventHandler),a.length||(t(document).off("touchstart.tabs"),l=!1),this.origin()}})}(Zepto),function(t,e){t.define("Toolbar",{options:{container:document.body,title:"标题",leftBtns:[],rightBtns:[],fixed:!1},_init:function(){var t,n=this,i=n._options;i.container||(i.container=document.body),n.on("ready",function(){if(t=n.$el,i.fixed){var o,s=e('<div class="ui-toolbar-placeholder"></div>').height(t.offset().height).insertBefore(t).append(t).append(t.clone().css({"z-index":1,position:"absolute",top:0})),r=t.offset().top,a=function(){document.body.scrollTop>r?t.css({position:"fixed",top:0}):t.css("position","absolute")};e(window).on("touchmove touchend touchcancel scroll scrollStop",a),e(document).on("touchend touchcancel",o=function(){setTimeout(function(){a()},200)}),n.on("destroy",function(){e(window).off("touchmove touchend touchcancel scroll scrollStop",a),e(document).off("touchend touchcancel",o),t.insertBefore(s),s.remove(),n._removeDom()}),a()}}),n.on("destroy",function(){n._removeDom()})},_create:function(){var t=this,n=t._options,i=t.getEl(),o=e(n.container),s=[],r=t.btnGroups={left:[],right:[]},a=r.left;n.setup||(i&&i.length>0?i.appendTo(o):i=t.$el=e("<div>").appendTo(o)),s=i.children(),$toolbarWrap=i.find(".ui-toolbar-wrap"),0===$toolbarWrap.length?$toolbarWrap=e('<div class="ui-toolbar-wrap"></div>').appendTo(i):s=$toolbarWrap.children(),s.forEach(function(e){$toolbarWrap.append(e),/^[hH]/.test(e.tagName)?(a=r.right,t.title=e):a.push(e)});var l=$toolbarWrap.find(".ui-toolbar-left"),c=$toolbarWrap.find(".ui-toolbar-right");0===l.length&&(l=s.length?e('<div class="ui-toolbar-left">').insertBefore(s[0]):e('<div class="ui-toolbar-left">').appendTo($toolbarWrap),r.left.forEach(function(t){e(t).addClass("ui-toolbar-button"),l.append(t)}),c=e('<div class="ui-toolbar-right">').appendTo($toolbarWrap),r.right.forEach(function(t){e(t).addClass("ui-toolbar-button"),c.append(t)})),i.addClass("ui-toolbar"),e(t.title).length?e(t.title).addClass("ui-toolbar-title"):e('<h1 class="ui-toolbar-title">'+n.title+"</h1>").insertAfter(l),t.btnContainer={left:l,right:c},t.addBtns("left",n.leftBtns),t.addBtns("right",n.rightBtns)},_addBtn:function(t,n){e(n).appendTo(t).addClass("ui-toolbar-button")},addBtns:function(e,n){var i=this,o=i.btnContainer[e],s=Object.prototype.toString;return"[object String]"!=s.call(e)&&(n=e,o=i.btnContainer.right),n.forEach(function(e){e instanceof t.Base&&(e=e.getEl()),i._addBtn(o,e)}),i},show:function(){var t=this;return t.$el.show(),t.trigger("show"),t.isShowing=!0,t},hide:function(){var t=this;return t.$el.hide(),t.trigger("hide"),t.isShowing=!1,t},toggle:function(){var t=this;return t.isShowing===!1?t.show():t.hide(),t},_removeDom:function(){var t=this,e=t.$el;t._options.setup===!1?e.remove():e.css("position","static").css("top","auto")}})}(gmu,gmu.$),function(t){t.Toolbar.register("position",{position:function(t){return this.$el.fix(t),this}})}(gmu,gmu.$),function(t,e){t.Refresh.register("iOS5",{_init:function(){var t=this,n=t._options,i=t.$el;i.css({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),n.topOffset=n.$upElem?n.$upElem.height():0,n.iScroll=t._getiScroll(),i.get(0).scrollTop=n.topOffset,i.on("touchstart touchmove touchend",e.proxy(t._eventHandler,t))},_changeStyle:function(t,e){var n=this,i=n._options,o=i.refreshInfo[t];switch(n.origin(t,e),e){case"loaded":o.$icon.addClass("ui-refresh-icon"),i._actDir="";break;case"beforeload":o.$label.html("松开立即加载"),o.$icon.addClass("ui-refresh-flip");break;case"loading":o.$icon.removeClass().addClass("ui-loading")}return n},_scrollStart:function(t){var e=this,n=e._options,i=n.topOffset,o=n.$upElem,s=e.$el.get(0),r=function(){clearTimeout(n.topOffsetTimer),o&&o.length&&s.scrollTop<=i&&!n._upRefreshed&&(s.scrollTop=i)};return e.trigger("scrollstart",t),e._enableScroll()._bindScrollStop(s,r),n.maxScrollY=s.offsetHeight-s.scrollHeight,n._scrollFn=r,e},_scrollMove:function(){var t=this,e=t._options,n=e.$upElem&&e.$upElem.length,i=e.$downElem&&e.$downElem.length,o=t.$el.get(0),s=e.threshold||5;t._scrollMove=function(r){var a=e.maxScrollY,l=o.scrollTop,c=e.lastMoveY||l,u=e._upRefreshed,h=e._downRefreshed,p=t._status("up"),d=t._status("down");if(!(n&&!p||i&&!d))return e.iScroll.deltaY=l-c,d&&i&&!h&&a-s>-l?t._setMoveState("down","beforeload","pull"):d&&i&&h&&-l>a-s&&-l!==a?t._setMoveState("down","loaded","restore"):p&&n&&!u&&-l>s?t._setMoveState("up","beforeload","pull"):p&&n&&u&&s>-l&&l&&t._setMoveState("up","loaded","restore"),e.lastMoveY=l,e._moved=!0,t.trigger("scrollmove",r,l,l-c)},t._scrollMove.apply(t,arguments)},_scrollEnd:function(t){var n=this,i=n._options,o=n.$el.get(0),s=i.topOffset,r=i._actDir,a=i._restoreDir;return("up"==a||o.scrollTop<=s)&&!r&&i._moved&&(n._options.topOffsetTimer=setTimeout(function(){e(o).off("scroll",i._scrollFn),o.scrollTop=s},800)),r&&n._status(r)&&(n._setStyle(r,"loading"),n._loadingAction(r,"pull")),i._moved=!1,n.trigger("scrollend",t)},_enableScroll:function(){var t=this,e=t.$el.get(0),n=e.scrollTop;return 0>=n&&(e.scrollTop=1),n+e.offsetHeight>=e.scrollHeight&&(e.scrollTop=e.scrollHeight-e.offsetHeight-1),t},_bindScrollStop:function(t,n){var i=this,o=e(t);return o.off("scroll",i._options._scrollFn).on("scroll",e.debounce(100,function(){o.off("scroll",arguments.callee).one("scroll",n)},!1)),i},_getiScroll:function(){var t=this,e=t.$el,n=e[0];return{el:n,deltaY:0,scrollTo:function(t,i,o){o&&(t=n.scrollTop+t),e.css({"-webkit-transition-property":"scrollTop","-webkit-transition-duration":t+"ms"}),n.scrollTop=t},disable:function(n){n&&t.destroy(),e.css("overflow","hidden")},enable:function(){e.css("overflow","scroll")}}},_setMoveState:function(t,e,n){var i=this,o=i._options;return i._setStyle(t,e),o["_"+t+"Refreshed"]="pull"==n,o._actDir="pull"==n?t:"",o._restoreDir="up"==t&&"restore"==n?t:"",i},_eventHandler:function(t){var e=this;switch(t.type){case"touchstart":e._scrollStart(t);break;case"touchmove":e._scrollMove(t);break;case"touchend":e._scrollEnd(t)}},afterDataLoading:function(t){var e=this,n=e._options,t=t||n._actDir;return n["_"+t+"Refreshed"]=!1,"up"==t&&(e.$el.get(0).scrollTop=n.topOffset),e.origin(t)}})}(gmu,gmu.$);